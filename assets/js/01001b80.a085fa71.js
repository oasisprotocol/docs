"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[3083],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var a=s(96540);const t={},o=a.createContext(t);function i(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(o.Provider,{value:n},e.children)}},67226:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"build/tools/cli/account","title":"Account","description":"Using CLI for performing account-related tasks","source":"@site/docs/build/tools/cli/account.md","sourceDirName":"build/tools/cli","slug":"/build/tools/cli/account","permalink":"/build/tools/cli/account","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/cli/edit/master/docs/account.md","tags":[],"version":"current","lastUpdatedAt":1758873168000,"frontMatter":{"title":"Account","description":"Using CLI for performing account-related tasks","sidebar_custom_props":{}},"sidebar":"developers","previous":{"title":"Wallet","permalink":"/build/tools/cli/wallet"},"next":{"title":"Transaction","permalink":"/build/tools/cli/transaction"}}');var t=s(74848),o=s(28453);const i={title:"Account",description:"Using CLI for performing account-related tasks",sidebar_custom_props:{tags:void 0}},r="Account-related Tasks",c={},l=[{value:"Network, ParaTime and Account Selectors",id:"npa",level:2},{value:"Network",id:"network",level:3},{value:"ParaTime",id:"paratime",level:3},{value:"Account",id:"account",level:3},{value:"Show the Balance of an Account",id:"show",level:2},{value:"Transfer",id:"transfer",level:2},{value:"Allowance",id:"allow",level:2},{value:"Deposit Tokens to a ParaTime",id:"deposit",level:2},{value:"Withdraw Tokens from the ParaTime",id:"withdraw",level:2},{value:"Delegate Tokens to a Validator",id:"delegate",level:2},{value:"Undelegate Tokens from the Validator",id:"undelegate",level:2},{value:"Advanced",id:"advanced",level:2},{value:"Public Key to Address",id:"from-public-key",level:3},{value:"Non-Interactive Mode",id:"y",level:3},{value:"Output Transaction to File",id:"output-file",level:3},{value:"Do Not Sign the Transaction",id:"unsigned",level:3},{value:"Output format",id:"format",level:3},{value:"Offline Mode",id:"offline",level:3},{value:"Subtract fee",id:"subtract-fee",level:3},{value:"Account&#39;s Nonce",id:"nonce",level:3},{value:"Gas Price",id:"gas-price",level:3},{value:"Gas Limit",id:"gas-limit",level:3},{value:"Entity Management",id:"entity",level:3},{value:"Initialize Entity",id:"entity-init",level:4},{value:"Register your Entity",id:"entity-register",level:4},{value:"Deregister Your Entity",id:"entity-deregister",level:4},{value:"Change Your Commission Schedule",id:"amend-commission-schedule",level:3},{value:"Unfreeze Your Node",id:"node-unfreeze",level:3},{value:"Burn Tokens",id:"burn",level:3},{value:"Pools and Reserved Addresses",id:"reserved-addresses",level:3},{value:"Consensus layer",id:"consensus-layer",level:4},{value:"ParaTime layer",id:"paratime-layer",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"account-related-tasks",children:"Account-related Tasks"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"account"})," command is the home for most consensus and ParaTime-layer\non-chain transactions that are signed with one of your accounts such as:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"getting the account balance including delegated assets,"}),"\n",(0,t.jsx)(n.li,{children:"sending tokens,"}),"\n",(0,t.jsxs)(n.li,{children:["delegating or undelegating tokens to or from validators (",(0,t.jsx)(n.em,{children:"staking"}),"),"]}),"\n",(0,t.jsx)(n.li,{children:"depositing and withdrawing tokens to or from a ParaTime,"}),"\n",(0,t.jsx)(n.li,{children:"managing withdrawal beneficiaries of your accounts,"}),"\n",(0,t.jsx)(n.li,{children:"validator utils such as entity registration, setting the commission schedule,\nunfreezing your node and similar."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"npa",children:"Network, ParaTime and Account Selectors"}),"\n",(0,t.jsxs)(n.p,{children:["Before we dig into ",(0,t.jsx)(n.code,{children:"account"})," subcommands, let's look at the three most common\nselectors."]}),"\n",(0,t.jsx)(n.h3,{id:"network",children:"Network"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"--network <network_name>"})," parameter specifies the ",(0,t.jsx)(n.a,{href:"/build/tools/cli/network",children:"network"})," which the\nOasis CLI should connect to."]}),"\n",(0,t.jsx)(n.p,{children:"For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show oasis1qzzd6khm3acqskpxlk9vd5044cmmcce78y5l6000 --network testnet\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             test:cory\nNative address:   oasis1qzzd6khm3acqskpxlk9vd5044cmmcce78y5l6000\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 0\n\n  Total: 1.0 TEST\n  Available: 1.0 TEST\n\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show oasis1qzzd6khm3acqskpxlk9vd5044cmmcce78y5l6000 --network mainnet\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             test:cory\nNative address:   oasis1qzzd6khm3acqskpxlk9vd5044cmmcce78y5l6000\n\n=== CONSENSUS LAYER (mainnet) ===\n  Nonce: 0\n\n  Total: 0.0 ROSE\n  Available: 0.0 ROSE\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"paratime",children:"ParaTime"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"--paratime <paratime_name>"})," sets which ",(0,t.jsx)(n.a,{href:"/build/tools/cli/paratime",children:"ParaTime"})," Oasis CLI should use.\nIf you do not want to use any ParaTime, for example to perform a consensus\nlayer operation, pass the ",(0,t.jsx)(n.code,{children:"--no-paratime"})," flag explicitly."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show eric --no-paratime\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             eric\nNative address:   oasis1qzplmfaeywvtc2qnylyhk0uzcxr4y5s3euhaug7q\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 0\n\n  Total: 0.0 TEST\n  Available: 0.0 TEST\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"account",children:"Account"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"--account <account_name>"})," specifies which account in your wallet the\nOasis CLI should use to sign the transaction with."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account transfer 1.5 0xDce075E1C39b1ae0b75D554558b6451A226ffe00 --account orlando\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: accounts.Transfer\nBody:\n  To: test:dave (oasis1qrk58a6j2qn065m6p06jgjyt032f7qucy5wqeqpt)\n  Amount: 1.5 TEST\nAuthorized signer(s):\n  1. cb+NHKt7JT4fumy0wQdkiBwO3P+DUh8ylozMpsu1xH4= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0002772 TEST\n  Gas limit: 2772\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  orlando\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account transfer 1.5 0xDce075E1C39b1ae0b75D554558b6451A226ffe00 --account eric\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: accounts.Transfer\nBody:\n  To: test:dave (oasis1qrk58a6j2qn065m6p06jgjyt032f7qucy5wqeqpt)\n  Amount: 1.5 TEST\nAuthorized signer(s):\n  1. A1ik9X/7X/eGSoSYOKSIJqM7pZ5It/gHbF+wraxi33u3 (secp256k1eth)\n     Nonce: 0\nFee:\n  Amount: 0.0002779 TEST\n  Gas limit: 2779\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  eric\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["You can also set ",(0,t.jsxs)(n.strong,{children:["the default ",(0,t.jsx)(n.a,{href:"/build/tools/cli/network#set-default",children:"network"}),",\n",(0,t.jsx)(n.a,{href:"/build/tools/cli/paratime#set-default",children:"ParaTime"})," or ",(0,t.jsx)(n.a,{href:"/build/tools/cli/wallet#set-default",children:"account"})," to use"]}),", if\nno network, ParaTime or account selectors are provided."]})}),"\n",(0,t.jsx)(n.h2,{id:"show",children:"Show the Balance of an Account"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"account show [address]"})," command prints the balance, delegated assets\nand other validator information corresponding to:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"a given address,"}),"\n",(0,t.jsxs)(n.li,{children:["the name of the ",(0,t.jsx)(n.a,{href:"/build/tools/cli/addressbook",children:"address book entry"})," or"]}),"\n",(0,t.jsx)(n.li,{children:"the name of one of the accounts in your wallet."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The address is looked up both on the consensus layer and the ParaTime, if\nselected."}),"\n",(0,t.jsx)(n.p,{children:"Running the command without arguments will show you the balance\nof your default account on the default network and ParaTime:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             oscar\nNative address:   oasis1qp87hflmelnpqhzcqcw8rhzakq4elj7jzv090p3e\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 2\n\n  Total: 0.0 TEST\n  Available: 0.0 TEST\n\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can also pass the name of the account in your wallet or address book, or one\nof the ",(0,t.jsx)(n.a,{href:"#reserved-addresses",children:"built-in named addresses"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show orlando\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             orlando\nNative address:   oasis1qq84sc4q0shp5c5klwklqu59evz2mg59hveg7dqx\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 0\n\n  Total: 10.0 TEST\n  Available: 10.0 TEST\n\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis acc show pool:consensus:fee-accumulator\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Native address:   oasis1qqnv3peudzvekhulf8v3ht29z4cthkhy7gkxmph5\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 0\n\n  Total: 0.0 TEST\n  Available: 0.0 TEST\n\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or, you can check the balance of an arbitrary account address by passing the\nnative or Ethereum-compatible addresses."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show oasis1qzzd6khm3acqskpxlk9vd5044cmmcce78y5l6000\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             test:cory\nNative address:   oasis1qzzd6khm3acqskpxlk9vd5044cmmcce78y5l6000\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 0\n\n  Total: 1.0 TEST\n  Available: 1.0 TEST\n\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show 0xA3243B310CfA8D4b008780BC87E0bb9f6d4FDA06\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Name:             eric\nEthereum address: 0xA3243B310CfA8D4b008780BC87E0bb9f6d4FDA06\nNative address:   oasis1qzplmfaeywvtc2qnylyhk0uzcxr4y5s3euhaug7q\n\n=== CONSENSUS LAYER (testnet) ===\n  Nonce: 0\n\n  Total: 0.0 TEST\n  Available: 0.0 TEST\n\n=== sapphire PARATIME ===\n  Nonce: 0\n\n  Balances for all denominations:\n  - Amount: 10.0\n    Symbol: TEST\n\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To also include any staked assets in the balance, pass the ",(0,t.jsx)(n.code,{children:"--show-delegations"}),"\nflag. For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show oasis1qrec770vrek0a9a5lcrv0zvt22504k68svq7kzve --show-delegations\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Address: oasis1qrec770vrek0a9a5lcrv0zvt22504k68svq7kzve\nNonce: 33\n\n=== CONSENSUS LAYER (testnet) ===\n  Total: 972.898210067 TEST\n  Available: 951.169098086 TEST\n\n  Active Delegations from this Account:\n    Total: 16.296833986 TEST\n\n    Delegations:\n      - To:     oasis1qz2tg4hsatlxfaf8yut9gxgv8990ujaz4sldgmzx\n        Amount: 16.296833986 TEST (15000000000 shares)\n  Debonding Delegations from this Account:\n    Total: 5.432277995 TEST\n\n    Delegations:\n      - To:       oasis1qz2tg4hsatlxfaf8yut9gxgv8990ujaz4sldgmzx\n        Amount:   5.432277995 TEST (5432277995 shares)\n        End Time: epoch 26558\n\n  Allowances for this Account:\n    Total: 269.5000002 TEST\n    Allowances:\n      - Beneficiary: oasis1qqczuf3x6glkgjuf0xgtcpjjw95r3crf7y2323xd\n        Amount:      269.5 TEST\n      - Beneficiary: oasis1qrydpazemvuwtnp3efm7vmfvg3tde044qg6cxwzx\n        Amount:      0.0000002 TEST\n\n=== sapphire PARATIME ===\nBalances for all denominations:\n  6.9995378 TEST\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Let's look more closely at the figures above. The account's ",(0,t.jsx)(n.strong,{children:"nonce"})," is the\nincremental number starting from 0 that must be unique for each account's\ntransaction. In our case, the nonce is 32. This means there have been that many\ntransactions made with this account as the source. The next transaction should\nhave nonce equal to 32."]}),"\n",(0,t.jsxs)(n.p,{children:["We can see that the total account's ",(0,t.jsx)(n.strong,{children:"balance"})," on the consensus layer is ~973\ntokens:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"~951 tokens can immediately be transferred."}),"\n",(0,t.jsx)(n.li,{children:"~16.3 tokens (15,000,000,0000 shares) are staked (delegated)."}),"\n",(0,t.jsx)(n.li,{children:"~5.4 tokens are debonding and will be available for spending in the epoch\n26558."}),"\n",(0,t.jsxs)(n.li,{children:["up to ~270 tokens are ",(0,t.jsx)(n.a,{href:"#allow",children:"allowed"})," to be transferred to accounts\n",(0,t.jsx)(n.code,{children:"oasis1qqczuf3x6glkgjuf0xgtcpjjw95r3crf7y2323xd"})," and\n",(0,t.jsx)(n.code,{children:"oasis1qrydpazemvuwtnp3efm7vmfvg3tde044qg6cxwzx"})," without the signature of the\naccount above."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Separately, you can notice there are ~7 tokens currently ",(0,t.jsx)(n.a,{href:"#deposit",children:"deposited"}),"\nin Sapphire."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"--show-delegations"})," flag is not enabled by default, because account\ndelegations are not indexed on-chain. This means that the endpoint needs\nto scan block by block to retrieve this information and takes some time\noften leading to the timeout on public endpoints due to denial-of-service\nprotection."]})}),"\n",(0,t.jsx)(n.p,{children:"Next, let's look at how the account of a validator typically looks like. For\nexample:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account show oasis1qz8w4erh0kkwpmdtwd3dt9ueaz9hmzfpecjhd7t4 --show-delegations\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Address: oasis1qz8w4erh0kkwpmdtwd3dt9ueaz9hmzfpecjhd7t4\nNonce: 17\n\n=== CONSENSUS LAYER (testnet) ===\n  Total: 1300.598418401 TEST\n  Available: 52.73923316 TEST\n\n  Active Delegations from this Account:\n    Total: 1247.859185241 TEST\n\n    Delegations:\n      - To:     oasis1qz8w4erh0kkwpmdtwd3dt9ueaz9hmzfpecjhd7t4 (self)\n        Amount: 1247.859185241 TEST (1167021437369 shares)\n\n  Active Delegations to this Account:\n    Total: 1833.451690691 TEST\n (1714678589317 shares)\n\n    Delegations:\n      - From:   oasis1qz8w4erh0kkwpmdtwd3dt9ueaz9hmzfpecjhd7t4 (self)\n        Amount: 1247.859185241 TEST (1167021437369 shares)\n      - From:   oasis1qztnau4t75cf8wh3truwtl7awvnkwe4st5l25yfn\n        Amount: 148.289115949 TEST (138682777102 shares)\n      - From:   oasis1qrvguq055xh42yjl84yn2h5dhm59fkzg9st0mu90\n        Amount: 116.290596782 TEST (108757158672 shares)\n      - From:   oasis1qzhulmesqkcu23r0h5hfslwelud46mkm25zh7uqq\n        Amount: 111.30081746 TEST (104090622972 shares)\n      - From:   oasis1qq05qnywdzz3m45dzqxuek0p4a5dxr86rgxlxc58\n        Amount: 104.855987628 TEST (98063296601 shares)\n      - From:   oasis1qzpvsgt56jxz324dxjv5272mz4j6kfadd5ur7f98\n        Amount: 104.855987628 TEST (98063296601 shares)\n\n  Commission Schedule:\n    Rates:\n      (1) start: epoch 15883\n          rate:  7.0%\n      (2) start: epoch 15994\n          rate:  11.0%\n      (3) start: epoch 16000\n          rate:  14.0%\n      (4) start: epoch 16134\n          rate:  18.0%\n    Rate Bounds:\n      (1) start:        epoch 15883\n          minimum rate: 0.0%\n          maximum rate: 10.0%\n      (2) start:        epoch 15993\n          minimum rate: 0.0%\n          maximum rate: 20.0%\n\n  Stake Accumulator:\n    Claims:\n      - Name: registry.RegisterEntity\n        Staking Thresholds:\n          - Global: entity\n      - Name: registry.RegisterNode.LAdHWnCkjFR5NUkFHVpfGuKFfZW1Cqjzu6wTFY6v2JI=\n        Staking Thresholds:\n          - Global: node-validator\n      - Name: registry.RegisterNode.xk58fx5ys6CSO33ngMQkgOL5UUHSgOSt0QbqWGGuEF8=\n        Staking Thresholds:\n          - Global: node-compute\n        Staking Thresholds:\n          - Global: node-compute\n        Staking Thresholds:\n          - Global: node-compute\n"})}),"\n",(0,t.jsxs)(n.p,{children:["We can see there is a total of ~1833 tokens delegated to this validator. One\ndelegation was done by the account itself and then there are five more\ndelegators. Sometimes, we also refer to accounts with delegated assets to it as\n",(0,t.jsx)(n.em,{children:"escrow accounts"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Next, we can see a ",(0,t.jsx)(n.em,{children:"commission schedule"}),". A validator can charge commission for\ntokens that are delegated to it in form of the commission schedule ",(0,t.jsx)(n.strong,{children:"rate\nsteps"})," (7%, 11%, 14% and 18% activated on epochs 15883, 15994, 16000 and 16134\nrespectively) and the commission schedule ",(0,t.jsx)(n.strong,{children:"rate bound steps"})," (0-10% on\nepoch 15883 and then 0-20% activated on epoch 15993). For more details, see the\n",(0,t.jsx)(n.a,{href:"./account#amend-commission-schedule",children:"account amend-commission-schedule"}),"\ncommand."]}),"\n",(0,t.jsxs)(n.p,{children:["An escrow account may also accumulate one or more ",(0,t.jsx)(n.strong,{children:"stake claims"})," as seen\nabove. The network ensures that all claims are satisfied at any given point.\nAdding a new claim is only possible if ",(0,t.jsx)(n.strong,{children:"all of the existing claims plus the\nnew claim can be satisfied"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"We can observe that the stake accumulator currently has the following claims:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"registry.RegisterEntity"})," claim is for registering an entity. It needs to\nsatisfy the global threshold for\n",(0,t.jsxs)(n.a,{href:"./network#show-native-token",children:["registering the ",(0,t.jsx)(n.code,{children:"entity"})]}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"registry.RegisterNode.LAdHWnCkjFR5NUkFHVpfGuKFfZW1Cqjzu6wTFY6v2JI="}),"\nclaim is for registering the validator node with the public key\n",(0,t.jsx)(n.code,{children:"LAdHWnCkjFR5NUkFHVpfGuKFfZW1Cqjzu6wTFY6v2JI="}),". The claim needs to satisfy the\n",(0,t.jsx)(n.a,{href:"./network#show-native-token",children:(0,t.jsx)(n.code,{children:"node-validator"})})," global staking threshold parameter."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"registry.RegisterNode.xk58fx5ys6CSO33ngMQkgOL5UUHSgOSt0QbqWGGuEF8="}),"\nclaim is for registering the three compute nodes with the public key\n",(0,t.jsx)(n.code,{children:"xk58fx5ys6CSO33ngMQkgOL5UUHSgOSt0QbqWGGuEF8=="}),". The claim needs to satisfy\nthree ",(0,t.jsx)(n.a,{href:"./network#show-native-token",children:(0,t.jsx)(n.code,{children:"node-compute"})})," global staking threshold parameters."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For more details on registering entities, nodes and ParaTimes, see the\n",(0,t.jsx)(n.a,{href:"/core/consensus/services/registry#entities-and-nodes",children:"Oasis Core Registry service"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and ParaTime"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account show"})," command."]})}),"\n",(0,t.jsx)(n.h2,{id:"transfer",children:"Transfer"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"account transfer <amount> <to>"})," command to transfer funds between two\naccounts on the consensus layer or between two accounts inside the same\nParaTime."]}),"\n",(0,t.jsx)(n.p,{children:"The following command will perform a token transfer inside default ParaTime:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account transfer 2.5 oscar --account orlando\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: accounts.Transfer\nBody:\n  To: oscar (oasis1qp87hflmelnpqhzcqcw8rhzakq4elj7jzv090p3e)\n  Amount: 2.5 TEST\nAuthorized signer(s):\n  1. cb+NHKt7JT4fumy0wQdkiBwO3P+DUh8ylozMpsu1xH4= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0002772 TEST\n  Gas limit: 2772\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  orlando\n"})}),"\n",(0,t.jsx)(n.p,{children:"Consensus layer token transfers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account transfer 2.5 oscar --account orlando --no-paratime\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.Transfer\nBody:\n  To:     oasis1qp87hflmelnpqhzcqcw8rhzakq4elj7jzv090p3e\n  Amount: 2.5 TEST\nNonce:  0\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1272\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  orlando\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network, ParaTime and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account transfer"})," command."]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"#subtract-fee",children:(0,t.jsx)(n.code,{children:"--subtract-fee"})})," flag is available both for consensus\nand ParaTime transfers."]})}),"\n",(0,t.jsx)(n.h2,{id:"allow",children:"Allowance"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"account allow <beneficiary> <amount>"})," command makes your funds withdrawable by\na 3rd party beneficiary at consensus layer. For example, instead of paying your\npartner for a service directly, you can ask for their address and enable\n",(0,t.jsx)(n.strong,{children:"them"})," to withdraw the amount which you agreed on from your account. This is a\nsimilar mechanism to how payment checks were used in the past."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account allow logan 10\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.Allow\nBody:\n  Beneficiary:   oasis1qpl4axynedmdrrgrg7dpw3yxc4a8crevr5dkuksl\n  Amount change: +10.0 TEST\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1286\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.p,{children:"The allowance command uses relative amount. For example, if your run the\nabove command 3 times, Logan will be allowed to withdraw 30 ROSE."}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["To reduce the allowed amount or completely ",(0,t.jsx)(n.strong,{children:"disallow"})," the withdrawal, use the\nnegative amount. To avoid flag ambiguity in the shell, you will first need to\npass all desired flags and parameters except the negative amount, then append\n",(0,t.jsx)(n.code,{children:"--"})," to mark the end of options, and finally append the negative amount."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account allow logan -- -10\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.Allow\nBody:\n  Beneficiary:   oasis1qpl4axynedmdrrgrg7dpw3yxc4a8crevr5dkuksl\n  Amount change: -10.0 TEST\nNonce:  0\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1288\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})})]}),"\n",(0,t.jsxs)(n.p,{children:["The allowance transaction is also required if you want to deposit funds from\nyour consensus account to a ParaTime. The ParaTime will ",(0,t.jsx)(n.strong,{children:"withdraw"})," the amount\nfrom your consensus account and fund your ParaTime account with the same\namount deducted by the deposit fee. Oasis CLI can derive the address of the\nParaTime beneficiary, if you use ",(0,t.jsx)(n.code,{children:"paratime:<paratime name>"})," as the beneficiary\naddress."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account allow paratime:sapphire 10\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.Allow\nBody:\n  Beneficiary:   oasis1qqczuf3x6glkgjuf0xgtcpjjw95r3crf7y2323xd\n  Amount change: +10.0 TEST\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1286\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and account"})," selectors are available for the ",(0,t.jsx)(n.code,{children:"account allow"}),"\ncommand."]})}),"\n",(0,t.jsx)(n.h2,{id:"deposit",children:"Deposit Tokens to a ParaTime"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"account deposit <amount> [address]"})," will deposit funds from your consensus\naccount to the target address inside the selected ParaTime."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis accounts deposit 10 eugene --gas-price 0\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Deposit\nBody:\n  To: eugene (oasis1qrvzxld9rz83wv92lvnkpmr30c77kj2tvg0pednz)\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 73572\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.p,{children:"If no address is provided, the deposit will be made to the address\ncorresponding to your consensus account inside the ParaTime."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis accounts deposit 10 --gas-price 0\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Deposit\nBody:\n  To: Self\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 73542\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Currently, deposit transactions are free of charge, hence the ",(0,t.jsx)(n.code,{children:"--gas-price 0"}),"\nparameter to avoid spending unnecessary gas fees. Also, keep in\nmind that ",(0,t.jsx)(n.strong,{children:"deposit and withdrawal fees are always paid by your ParaTime\naccount."})," If it doesn't contain any ROSE, you will not able to cover the fees."]}),"\n",(0,t.jsx)(n.p,{children:"You can also make a deposit to an account with arbitrary address inside a\nParaTime. For example, let's deposit to some native address inside the\nParaTime:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account deposit 10 oasis1qpxhsf7xnm007csw2acaa7mta2krzpwex5c90qu6 --gas-price 0\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Deposit\nBody:\n  To: oasis1qpxhsf7xnm007csw2acaa7mta2krzpwex5c90qu6\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 73572\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or to some address in the Ethereum format:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis accounts deposit 10 0x90adE3B7065fa715c7a150313877dF1d33e777D5 --gas-price 0\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Deposit\nBody:\n  To: oasis1qpupfu7e2n6pkezeaw0yhj8mcem8anj64ytrayne\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 73572\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network, ParaTime and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account deposit"})," command."]})}),"\n",(0,t.jsx)(n.h2,{id:"withdraw",children:"Withdraw Tokens from the ParaTime"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"account withdraw <amount> [to]"})," will withdraw funds from your ParaTime account\nto a consensus address:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account withdraw 10 orlando\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Withdraw\nBody:\n  To: orlando (oasis1qq84sc4q0shp5c5klwklqu59evz2mg59hveg7dqx)\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0073573 TEST\n  Gas limit: 73573\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.p,{children:"If the address is not provided, the address of the account inside ParaTime will\nbe used as a consensus address:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account withdraw 10\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Withdraw\nBody:\n  To: Self\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0073543 TEST\n  Gas limit: 73543\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["Withdrawal transactions are not free of charge and the fee will be deducted\n",(0,t.jsx)(n.strong,{children:"from your ParaTime balance"}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["Similar to the ",(0,t.jsx)(n.a,{href:"#deposit",children:(0,t.jsx)(n.code,{children:"account deposit"})})," command, you can also specify an\narbitrary Oasis address which you want to withdraw your tokens to."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis accounts withdraw 10 oasis1qpxhsf7xnm007csw2acaa7mta2krzpwex5c90qu6\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Withdraw\nBody:\n  To: oasis1qpxhsf7xnm007csw2acaa7mta2krzpwex5c90qu6\n  Amount: 10.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0073573 TEST\n  Gas limit: 73573\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["You cannot use the destination address of your ",(0,t.jsx)(n.code,{children:"secp256k1"})," account or any other\nEthereum-formatted address for the withdrawal, because this signature scheme is\nnot supported on the consensus layer!"]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network, ParaTime and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account withdraw"})," command."]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"#subtract-fee",children:(0,t.jsx)(n.code,{children:"--subtract-fee"})})," flag is available for withdrawal\ntransactions."]})}),"\n",(0,t.jsx)(n.h2,{id:"delegate",children:"Delegate Tokens to a Validator"}),"\n",(0,t.jsxs)(n.p,{children:["To stake your tokens on the consensus layer, run\n",(0,t.jsx)(n.code,{children:"account delegate <amount> <to>"}),". This will delegate the specified amount of\ntokens to a validator."]}),"\n",(0,t.jsx)(n.p,{children:"You can either delegate directly on the consensus layer:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account delegate 20 oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk --no-paratime\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.AddEscrow\nBody:\n  To:     oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk\n  Amount: 20.0 TEST\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1279\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or you can delegate from inside a ParaTime that supports delegations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account delegate 20 oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Delegate\nBody:\n  To: oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk\n  Amount: 20.0 TEST\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0073574 TEST\n  Gas limit: 73574\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Once your tokens are staked, they are converted into ",(0,t.jsx)(n.em,{children:"shares"})," since the number\nof tokens may change over time based on the\n",(0,t.jsx)(n.a,{href:"/general/oasis-network/token-metrics-and-distribution#staking-incentives",children:"staking reward schedule"})," or if your validator is subject to\n",(0,t.jsx)(n.a,{href:"/general/manage-tokens/terminology#slashing",children:"slashing"}),". The number of shares on the other hand will remain constant. Also,\nshares are always interpreted as a whole number, whereas the amount of tokens is\nusually a rational number and may lead to rounding errors when managing your\ndelegations."]}),"\n",(0,t.jsxs)(n.p,{children:["To find out how many shares did you delegate, run ",(0,t.jsx)(n.a,{href:"#show",children:(0,t.jsx)(n.code,{children:"account show"})})," and\nlook for the ",(0,t.jsx)(n.code,{children:"shares"})," under the active delegations section."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network, ParaTime and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account delegate"})," command."]})}),"\n",(0,t.jsx)(n.h2,{id:"undelegate",children:"Undelegate Tokens from the Validator"}),"\n",(0,t.jsxs)(n.p,{children:["To reclaim your delegated assets, use ",(0,t.jsx)(n.code,{children:"account undelegate <shares> <from>"}),". You\nwill need to specify the ",(0,t.jsx)(n.strong,{children:"number of shares instead of tokens"})," and the\nvalidator address you want to reclaim your assets from."]}),"\n",(0,t.jsx)(n.p,{children:"Depending on where the tokens have been delegated from, you can either reclaim\ndelegated tokens directly on the consensus layer:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account undelegate 20000000000 oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk --no-paratime\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.ReclaimEscrow\nBody:\n  From:   oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk\n  Shares: 20000000000\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1283\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or you can reclaim from inside a ParaTime that supports delegations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account undelegate 20000000000 oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nFormat: plain\nMethod: consensus.Undelegate\nBody:\n  From: oasis1qpkl3vykn9mf4xcq9eevmey4ffrzf0ajtcpvd7sk\n  Shares: 20000000000\nAuthorized signer(s):\n  1. Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0145572 TEST\n  Gas limit: 145572\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  oscar\n"})}),"\n",(0,t.jsxs)(n.p,{children:["After submitting the transaction, a ",(0,t.jsx)(n.a,{href:"/build/tools/cli/network#show",children:"debonding period"})," will\ncommence. After the period has passed, the network will automatically move your\nassets back to your account. Note that during the debonding period, your\nassets may still be ",(0,t.jsx)(n.a,{href:"/general/manage-tokens/terminology#slashing",children:"slashed"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network, ParaTime and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account undelegate"})," command."]})}),"\n",(0,t.jsx)(n.h2,{id:"advanced",children:"Advanced"}),"\n",(0,t.jsx)(n.h3,{id:"from-public-key",children:"Public Key to Address"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"account from-public-key <public_key>"})," converts the Base64-encoded public key\nto the ",(0,t.jsx)(n.a,{href:"/general/manage-tokens/terminology#address",children:"Oasis native address"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account from-public-key NcPzNW3YU2T+ugNUtUWtoQnRvbOL9dYSaBfbjHLP1pE=\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"oasis1qrec770vrek0a9a5lcrv0zvt22504k68svq7kzve\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This command is most often used by the network validators for converting the\npublic key of their entity to a corresponding address. You can find your\nentity's ID in the ",(0,t.jsx)(n.code,{children:"id"})," field of the ",(0,t.jsx)(n.code,{children:"entity.json"})," file."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Oasis consensus transactions hold the public key of the signer instead of their\n",(0,t.jsx)(n.em,{children:"from"})," address. This command can be used for debugging to determine the\nsigner's staking address on the network."]})}),"\n",(0,t.jsx)(n.h3,{id:"y",children:"Non-Interactive Mode"}),"\n",(0,t.jsxs)(n.p,{children:["Add ",(0,t.jsx)(n.code,{children:"-y"}),' flag to any operation, if you want to use Oasis CLI in\nnon-interactive mode. This will answer "yes to all" for yes/no questions\nand for all other prompts it will keep the proposed default values.']}),"\n",(0,t.jsx)(n.h3,{id:"output-file",children:"Output Transaction to File"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"--output-file <filename>"})," parameter to save the resulting transaction to a\nfile instead of broadcasting it to the network. You can then use the\n",(0,t.jsx)(n.a,{href:"/build/tools/cli/transaction",children:(0,t.jsx)(n.code,{children:"transaction"})})," command to verify and submit it."]}),"\n",(0,t.jsxs)(n.p,{children:["Check out the ",(0,t.jsx)(n.a,{href:"#unsigned",children:(0,t.jsx)(n.code,{children:"--unsigned"})})," flag, if you wish to store the unsigned version of\nthe transaction and the ",(0,t.jsx)(n.a,{href:"#format",children:(0,t.jsx)(n.code,{children:"--format"})})," parameter for a different transaction\nencoding."]}),"\n",(0,t.jsx)(n.h3,{id:"unsigned",children:"Do Not Sign the Transaction"}),"\n",(0,t.jsxs)(n.p,{children:["If you wish to ",(0,t.jsx)(n.em,{children:"prepare"})," a transaction to be signed by a specific account in\nthe future, use the ",(0,t.jsx)(n.code,{children:"--unsigned"})," flag. This will cause Oasis CLI to skip the\nsigning and broadcasting steps. The transaction will be printed to the\nstandard output instead."]}),"\n",(0,t.jsxs)(n.p,{children:["You can also use ",(0,t.jsx)(n.a,{href:"#output-file",children:(0,t.jsx)(n.code,{children:"--output-file"})})," to store the transaction to a file. This\nsetup is ideal when you want to sign a transaction with the\n",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Air_gap_(networking)",children:"offline/air-gapped machine"})," machine:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"First, generate an unsigned transaction on a networked machine,"}),"\n",(0,t.jsx)(n.li,{children:"copy it over to an air-gapped machine,"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/build/tools/cli/transaction#sign",children:"sign it"})," on the air-gapped machine,"]}),"\n",(0,t.jsx)(n.li,{children:"copy it over to the networked machine,"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/build/tools/cli/transaction#submit",children:"broadcast the transaction"})," on the networked machine."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Use the CBOR format, if you are using a 3rd party tool in step 3 to sign the\ntransaction content directly. Check out the ",(0,t.jsx)(n.a,{href:"#format",children:(0,t.jsx)(n.code,{children:"--format"})})," parameter to learn\nmore."]}),"\n",(0,t.jsx)(n.h3,{id:"format",children:"Output format"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"--format json"})," or ",(0,t.jsx)(n.code,{children:"--format cbor"})," to select the output file\nformat. By default the JSON encoding is selected so that the file is\nhuman-readable and that 3rd party applications can easily manage it. If you want\nto output the transaction in the same format that will be stored on-chain or you\nare using a 3rd party tool for signing the content of the transaction file\ndirectly use the CBOR encoding."]}),"\n",(0,t.jsxs)(n.p,{children:["This parameter only works together with ",(0,t.jsx)(n.a,{href:"#unsigned",children:(0,t.jsx)(n.code,{children:"--unsigned"})})," and/or\n",(0,t.jsx)(n.a,{href:"#output-file",children:(0,t.jsx)(n.code,{children:"--output-file"})})," parameters."]}),"\n",(0,t.jsx)(n.h3,{id:"offline",children:"Offline Mode"}),"\n",(0,t.jsxs)(n.p,{children:["To generate a transaction without accessing the network and also without\nbroadcasting it, add ",(0,t.jsx)(n.code,{children:"--offline"})," flag. In this case Oasis CLI will require that\nyou provide all necessary transaction details (e.g. ",(0,t.jsx)(n.a,{href:"#nonce",children:"account nonce"}),",\n",(0,t.jsx)(n.a,{href:"#gas-limit",children:"gas limit"}),", ",(0,t.jsx)(n.a,{href:"#gas-price",children:"gas price"}),") which would otherwise be\nautomatically obtained from the network. Oasis CLI will print the transaction to\nthe standard output for you to examine. Use ",(0,t.jsx)(n.a,{href:"#output-file",children:(0,t.jsx)(n.code,{children:"--output-file"})}),", if\nyou wish to save the transaction to the file and submit it to the network\nafterwards by using the ",(0,t.jsx)(n.a,{href:"/build/tools/cli/transaction#submit",children:(0,t.jsx)(n.code,{children:"transaction submit"})})," command."]}),"\n",(0,t.jsx)(n.h3,{id:"subtract-fee",children:"Subtract fee"}),"\n",(0,t.jsxs)(n.p,{children:["To include the transaction fee inside the given amount, pass the\n",(0,t.jsx)(n.code,{children:"--subtract-fee"})," flag. This comes handy, if you want to drain the account or\nkeep it rounded to some specific number."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account transfer 1.0 0xDce075E1C39b1ae0b75D554558b6451A226ffe00 --account orlando --subtract-fee\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"You are about to sign the following transaction:\nFormat: plain\nMethod: accounts.Transfer\nBody:\n  To: test:dave (oasis1qrk58a6j2qn065m6p06jgjyt032f7qucy5wqeqpt)\n  Amount: 0.9997228 TEST\nAuthorized signer(s):\n  1. cb+NHKt7JT4fumy0wQdkiBwO3P+DUh8ylozMpsu1xH4= (ed25519)\n     Nonce: 0\nFee:\n  Amount: 0.0002772 TEST\n  Gas limit: 2772\n  (gas price: 0.0000001 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: sapphire\nAccount:  orlando\n"})}),"\n",(0,t.jsx)(n.h3,{id:"nonce",children:"Account's Nonce"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--nonce <nonce_number>"})," will override the detection of the account's nonce used\nto sign the transaction with the specified one."]}),"\n",(0,t.jsx)(n.h3,{id:"gas-price",children:"Gas Price"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--gas-price <price_in_base_units>"})," sets the transaction's price per gas unit in\nbase units."]}),"\n",(0,t.jsx)(n.h3,{id:"gas-limit",children:"Gas Limit"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"--gas-limit <limit>"})," sets the maximum amount of gas that can be spend by the\ntransaction."]}),"\n",(0,t.jsx)(n.h3,{id:"entity",children:"Entity Management"}),"\n",(0,t.jsx)(n.h4,{id:"entity-init",children:"Initialize Entity"}),"\n",(0,t.jsxs)(n.p,{children:["When setting up a validator node for the first time, you will need to provide\nthe path to the file containing your entity descriptor as well as register it in\nthe network registry. Use ",(0,t.jsx)(n.code,{children:"account entity init"})," to generate the entity\ndescriptor file containing the public key of the selected account."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account entity init\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8=",\n  "nodes": [],\n  "v": 2\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["By default, the file content will be printed to the standard output. You can use\n",(0,t.jsx)(n.code,{children:"-o"})," parameter to store it to a file, for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account entity init -o entity.json\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#account",children:"Account"})," selector is available for the\n",(0,t.jsx)(n.code,{children:"account entity init"})," command."]})}),"\n",(0,t.jsx)(n.h4,{id:"entity-register",children:"Register your Entity"}),"\n",(0,t.jsxs)(n.p,{children:["In order for validators to become part of the validator set and/or the compute\ncommittee, they first need to register as an entity inside the network's\nregistry. Use the ",(0,t.jsx)(n.code,{children:"account entity register <entity.json>"})," command to register\nyour entity and provide a JSON file with the Entity descriptor. You can use the\n",(0,t.jsx)(n.a,{href:"/build/tools/cli/network#show",children:(0,t.jsx)(n.code,{children:"network show"})})," command to see existing entities and\nthen examine specific ones to see how entity descriptors of the currently\nregistered entities look like."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account entity register entity.json\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Signing the entity descriptor...\n(In case you are using a hardware-based signer you may need to confirm on device.)\nYou are about to sign the following transaction:\nMethod: registry.RegisterEntity\nBody:\n  {\n    "untrusted_raw_value": {\n      "v": 2,\n      "id": "Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8=",\n      "nodes": [\n        "nshzFvqLNNLN+HS0id5XmXrVMhIgFV456i4VQicWgjk="\n      ]\n    },\n    "signature": {\n      "public_key": "Bx6gOixnxy15tCs09ua5DcKyX9uo2Forb32O6Hyjoc8=",\n      "signature": "DAwn+N8hKmQMbZda/fFJSEgErDAAdebXLfIPOpqUkJowJLUAL+nfrUMz5SVkKc0TnqQOavoSAVFz1yoRJ3QuBA=="\n    }\n  }\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 2479\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account entity register"})," command."]})}),"\n",(0,t.jsx)(n.h4,{id:"entity-deregister",children:"Deregister Your Entity"}),"\n",(0,t.jsxs)(n.p,{children:["To remove an entity from the network's registry, invoke\n",(0,t.jsx)(n.code,{children:"account entity deregister"}),". No additional arguments are required since each\naccount can only deregister their own entity, if one exists in the registry."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account entity deregister\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: registry.DeregisterEntity\nBody:\n  {}\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1239\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account entity deregister"})," command."]})}),"\n",(0,t.jsx)(n.h3,{id:"amend-commission-schedule",children:"Change Your Commission Schedule"}),"\n",(0,t.jsxs)(n.p,{children:["Validators can use ",(0,t.jsx)(n.code,{children:"account amend-commission-schedule"})," to add or remove\ntheir commission bounds and rates at consensus layer. Rate bounds can be\ndefined by using the ",(0,t.jsx)(n.code,{children:"--bounds <epoch>/<min_rate>/<max_rate>"})," parameter.\nActual rates which can be subject to change every epoch can be defined with the\n",(0,t.jsx)(n.code,{children:"--rates <epoch>/<rate>"})," parameter. Rates are specified in milipercents\n(100% = 100000m%). The new commission schedule will replace any previous\nschedules."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account amend-commission-schedule --bounds 329000/1000/2000,335000/900/1900 --rates 329000/1500\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.AmendCommissionSchedule\nBody:\n  Amendment:\n    Rates:\n      (1) start: epoch 329000\n          rate:  1.5%\n    Rate Bounds:\n      (1) start:        epoch 329000\n          minimum rate: 1.0%\n          maximum rate: 2.0%\n      (2) start:        epoch 335000\n          minimum rate: 0.9%\n          maximum rate: 1.9%\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1369\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To learn more on commission rates read the  section inside the Oasis Core\n",(0,t.jsx)(n.a,{href:"/core/consensus/services/staking#amend-commission-schedule",children:"Staking service"})," chapter."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account amend-commission-schedule"})," command."]})}),"\n",(0,t.jsx)(n.h3,{id:"node-unfreeze",children:"Unfreeze Your Node"}),"\n",(0,t.jsxs)(n.p,{children:["Once the validators, based on their stake, get elected into the validator set,\nit is important that their nodes are actively participating in proposing new\nblocks and submitting votes for other proposed blocks. For regular node\nupgrades and maintenance, the validators should follow the\n",(0,t.jsx)(n.a,{href:"/node/run-your-node/maintenance/shutting-down-a-node",children:"Shutting Down a Node"})," instructions. Nevertheless, if the network froze your\nnode, the only way to unfreeze it is to execute the ",(0,t.jsx)(n.code,{children:"account node-unfreeze"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account node-unfreeze fasTG3pMOwLfFA7JX3R8Kxw1zFflqeY6NP/cpjcFu5I=\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'You are about to sign the following transaction:\nMethod: registry.UnfreezeNode\nBody:\n  {\n    "node_id": "fasTG3pMOwLfFA7JX3R8Kxw1zFflqeY6NP/cpjcFu5I="\n  }\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1282\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and account"})," selectors are available for the\n",(0,t.jsx)(n.code,{children:"account node-unfreeze"})," command."]})}),"\n",(0,t.jsx)(n.h3,{id:"burn",children:"Burn Tokens"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"account burn <amount>"})," command will permanently destroy the amount of tokens\nin your account and remove them from circulation. This command should not be\nused on public networks since not only no one will be able to access burnt\nassets anymore, but will also permanently remove the tokens from circulation."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"oasis account burn 2.5\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"You are about to sign the following transaction:\nMethod: staking.Burn\nBody:\n  Amount: 2.5 TEST\nNonce:  2\nFee:\n  Amount: 0.0 TEST\n  Gas limit: 1243\n  (gas price: 0.0 TEST per gas unit)\n\nNetwork:  testnet\nParaTime: none (consensus layer)\nAccount:  oscar\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"#npa",children:"Network and account"})," selectors are available for the ",(0,t.jsx)(n.code,{children:"account burn"}),"\ncommand."]})}),"\n",(0,t.jsx)(n.h3,{id:"reserved-addresses",children:"Pools and Reserved Addresses"}),"\n",(0,t.jsx)(n.p,{children:"The following literals are used in the Oasis CLI to denote special reserved\naddresses which cannot be directly used in the ledger:"}),"\n",(0,t.jsx)(n.h4,{id:"consensus-layer",children:"Consensus layer"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:consensus:burn"}),": The token burn address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:consensus:common"}),": The common pool address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:consensus:fee-accumulator"}),": The per-block fee accumulator address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:consensus:governance-deposits"}),": The governance deposits address."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"paratime-layer",children:"ParaTime layer"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:paratime:common"}),": The common pool address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:paratime:fee-accumulator"}),": The per-block fee accumulator address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:paratime:pending-withdrawal"}),": The internal pending withdrawal address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:paratime:pending-delegation"}),": The internal pending delegation address."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pool:paratime:rewards"}),": The reward pool address."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);