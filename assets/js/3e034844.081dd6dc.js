"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[9088],{26360:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"build/rofl/workflow/create","title":"Create","description":"Before the app can be built it needs to be created on chain and assigned a","source":"@site/docs/build/rofl/workflow/create.md","sourceDirName":"build/rofl/workflow","slug":"/build/rofl/workflow/create","permalink":"/build/rofl/workflow/create","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/oasis-sdk/edit/main/docs/rofl/workflow/create.md","tags":[],"version":"current","lastUpdatedAt":1761563757000,"frontMatter":{"sidebar_custom_props":{}},"sidebar":"developers","previous":{"title":"Init","permalink":"/build/rofl/workflow/init"},"next":{"title":"Build","permalink":"/build/rofl/workflow/build"}}');var a=t(74848),o=t(28453);const s={sidebar_custom_props:{tags:void 0}},r="Create",c={},l=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"create",children:"Create"})}),"\n",(0,a.jsxs)(n.p,{children:["Before the app can be built it needs to be created on chain and assigned a\nunique identifier or ",(0,a.jsx)(n.em,{children:"app ID"})," which can be used by on-chain smart contracts to\nensure that they are talking to the right app and also gives the app access to a\ndecentralized key management system."]}),"\n",(0,a.jsxs)(n.p,{children:["Anyone with enough funds can create an app. Currently, this threshold is ",(0,a.jsx)(n.a,{href:"/node/run-your-node/prerequisites/stake-requirements",children:"100\ntokens"}),"."]}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["In order to obtain TEST tokens needed for creating and running your apps use\n",(0,a.jsx)(n.a,{href:"https://faucet.testnet.oasis.io/?paratime=sapphire",children:"the faucet"}),". To make things easier you should ",(0,a.jsxs)(n.a,{href:"/build/tools/cli/wallet",children:["create or import a\n",(0,a.jsx)(n.code,{children:"secp256k1-bip44"})," account"]})," that you can also use with the\nEthereum-compatible tooling like Hardhat."]})}),"\n",(0,a.jsxs)(n.p,{children:["We also need to select the network (",(0,a.jsx)(n.code,{children:"testnet"})," or ",(0,a.jsx)(n.code,{children:"mainnet"}),") and the account\nthat will be the initial administrator of the app (in this case ",(0,a.jsx)(n.code,{children:"myaccount"}),").\nThe CLI will automatically update the manifest file with the assigned app\nidentifier."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"oasis rofl create --network testnet --account myaccount\n"})}),"\n",(0,a.jsx)(n.p,{children:"After successful creation, the CLI will also output the new identifier:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Created ROFL application: rofl1qqn9xndja7e2pnxhttktmecvwzz0yqwxsquqyxdf\n"})}),"\n",(0,a.jsx)(n.p,{children:"The app deployer account automatically becomes the initial admin of the app so\nit can update the app's configuration. The admin address can always be changed\nby the current admin."}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"While the CLI implements a simple governance mechanism where the admin of the\napp is a single account, even a smart contract can be the admin. This allows for\nimplementation of advanced agent governance mechanisms, like using multi-sigs or\nDAOs with veto powers to control the upgrade process."})}),"\n",(0,a.jsxs)(n.admonition,{title:"App ID calculation",type:"tip",children:[(0,a.jsx)(n.p,{children:"App ID is derived using one of the two schemes:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Creator address + creator account nonce (default)"}),": This approach is\nsuitable for running tests (e.g. in ",(0,a.jsx)(n.a,{href:"/build/tools/localnet",children:(0,a.jsx)(n.code,{children:"sapphire-localnet"})}),") where you want\ndeterministic app ID."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Creator address + block round number + index of the ",(0,a.jsx)(n.code,{children:"rofl.Create"}),"\ntransaction in the block"]}),": This approach is non-deterministic and preferred\nin production environments so that the potential attacker cannot simply\ndetermine the app ID in advance, even if they knew what the creator address\nis."]}),"\n"]}),(0,a.jsxs)(n.p,{children:["You can select the app ID derivation scheme by passing the\n",(0,a.jsxs)(n.a,{href:"/build/tools/cli/rofl#create",children:[(0,a.jsx)(n.code,{children:"--scheme"})," parameter"]}),"."]})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var i=t(96540);const a={},o=i.createContext(a);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);