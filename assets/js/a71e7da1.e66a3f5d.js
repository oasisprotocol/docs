"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[2190],{18621:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"node/run-your-node/maintenance/shutting-down-a-node","title":"Shutting Down a Node","description":"When a node registers for an epoch, it is committing to being available","source":"@site/docs/node/run-your-node/maintenance/shutting-down-a-node.md","sourceDirName":"node/run-your-node/maintenance","slug":"/node/run-your-node/maintenance/shutting-down-a-node","permalink":"/node/run-your-node/maintenance/shutting-down-a-node","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/docs/edit/main/docs/node/run-your-node/maintenance/shutting-down-a-node.md","tags":[],"version":"current","lastUpdatedAt":1761867754000,"frontMatter":{"sidebar_custom_props":{}},"sidebar":"operators","previous":{"title":"Refreshing Node Certificates","permalink":"/node/run-your-node/maintenance/refreshing-certificates"},"next":{"title":"Advanced","permalink":"/node/run-your-node/advanced"}}');var i=t(74848),r=t(28453);const s={sidebar_custom_props:{tags:void 0}},a="Shutting Down a Node",d={},c=[];function u(e){const n={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"shutting-down-a-node",children:"Shutting Down a Node"})}),"\n",(0,i.jsx)(n.p,{children:"When a node registers for an epoch, it is committing to being available\nto service requests for the entire epoch.  Due to this availability\ncommitment, validator and non-client paratime nodes must be shutdown\ngracefully to avoid network disruption."}),"\n",(0,i.jsx)(n.p,{children:"The graceful shutdown process involves the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure your service manager (e.g. systemd) will not restart the node after\nexit. Otherwise the node may re-register on startup and you will need to wait\nanother epoch for it to expire."}),"\n",(0,i.jsx)(n.li,{children:"Halt the automatic re-registration."}),"\n",(0,i.jsx)(n.li,{children:"Wait for the node's existing registration to expire."}),"\n",(0,i.jsx)(n.li,{children:"Terminate the node binary."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To have the node gracefully shutdown, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Issue a graceful shutdown request.\noasis-node control shutdown\n\n# Issue a graceful shutdown request, and block until the node terminates.\n# Note: This can take up to a full epoch to complete.\noasis-node control shutdown \\\n  --wait\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Failure to gracefully shutdown the node may result in the node being\nfrozen (and potentially stake being slashed) due to the node being\nunavailable to service requests in an epoch that it is registered for."})})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(96540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);