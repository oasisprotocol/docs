"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[7910],{28453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>r});var s=a(96540);const d={},i=s.createContext(d);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),s.createElement(i.Provider,{value:n},e.children)}},51881:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"build/rofl/features/appd","title":"appd REST API","description":"Each containerized app running in ROFL runs a special daemon (called","source":"@site/docs/build/rofl/features/appd.md","sourceDirName":"build/rofl/features","slug":"/build/rofl/features/appd","permalink":"/build/rofl/features/appd","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/oasis-sdk/edit/main/docs/rofl/features/appd.md","tags":[],"version":"current","lastUpdatedAt":1767802050000,"frontMatter":{"sidebar_custom_props":{}},"sidebar":"developers","previous":{"title":"rofl.yaml Manifest File","permalink":"/build/rofl/features/manifest"},"next":{"title":"Port Proxy","permalink":"/build/rofl/features/proxy"}}');var d=a(74848),i=a(28453);const c={sidebar_custom_props:{tags:void 0}},r="appd REST API",t={},l=[{value:"ROFL clients",id:"rofl-clients",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"App Identifier",id:"app-identifier",level:3},{value:"Key Generation",id:"key-generation",level:3},{value:"Authenticated Transaction Submission",id:"authenticated-transaction-submission",level:3},{value:"Replica Metadata",id:"replica-metadata",level:3},{value:"Get Metadata",id:"get-metadata",level:4},{value:"Set Metadata",id:"set-metadata",level:4},{value:"Query",id:"query",level:3}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsxs)(n.h1,{id:"appd-rest-api",children:[(0,d.jsx)(n.code,{children:"appd"})," REST API"]})}),"\n",(0,d.jsxs)(n.p,{children:["Each containerized app running in ROFL runs a special daemon (called\n",(0,d.jsx)(n.code,{children:"rofl-appd"}),") that exposes additional functions via a simple HTTP REST API. In\norder to make it easier to isolate access, the API is exposed via a UNIX socket\nlocated at ",(0,d.jsx)(n.code,{children:"/run/rofl-appd.sock"})," which can be passed to containers via volumes."]}),"\n",(0,d.jsxs)(n.p,{children:["An example using the ",(0,d.jsx)(n.a,{href:"https://docs.docker.com/reference/compose-file/services/#short-syntax-5",children:"short syntax for Compose volumes"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"services:\n  mycontainer:\n    # ... other details omitted ...\n    volumes:\n      - /run/rofl-appd.sock:/run/rofl-appd.sock\n"})}),"\n",(0,d.jsx)(n.h2,{id:"rofl-clients",children:"ROFL clients"}),"\n",(0,d.jsx)(n.p,{children:"After binding the UNIX socket above, we strongly suggest to access the ROFL\nREST API through one of the ROFL clients for your favorite language:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"oasis-rofl-client"})," for ",(0,d.jsx)(n.a,{href:"https://pypi.org/project/oasis-rofl-client/",children:"Python"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"@oasisprotocol/rofl-client"})," for ",(0,d.jsx)(n.a,{href:"https://www.npmjs.com/package/@oasisprotocol/rofl-client",children:"TypeScript"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"oasis-rofl-client"})," for ",(0,d.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-sdk/tree/main/rofl-client/rs",children:"Rust"})]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["If you can't find the desired language above, please reach out to us on our\n",(0,d.jsx)(n.a,{href:"https://oasis.io/discord",children:"#dev-central Discord channel"}),". In the meantime use a generic HTTP\nclient and connect to the endpoints described next as follows."]}),"\n",(0,d.jsx)(n.admonition,{title:"UNIX sockets and HTTP headers",type:"info",children:(0,d.jsxs)(n.p,{children:["Although the communication with ",(0,d.jsx)(n.code,{children:"rofl-appd"})," is through UNIX sockets, the REST\nservice still uses the HTTP protocol. In place of a host name you can provide\nany name. In our examples, we stick to the ",(0,d.jsx)(n.code,{children:"http://localhost/<endpoint_path>"}),"\nformat."]})}),"\n",(0,d.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,d.jsx)(n.h3,{id:"app-identifier",children:"App Identifier"}),"\n",(0,d.jsx)(n.p,{children:"This endpoint can be used to retrieve the app ID."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Endpoint:"})," ",(0,d.jsx)(n.code,{children:"/rofl/v1/app/id"})," (",(0,d.jsx)(n.code,{children:"GET"}),")"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example response:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"rofl1qqn9xndja7e2pnxhttktmecvwzz0yqwxsquqyxdf\n"})}),"\n",(0,d.jsx)(n.h3,{id:"key-generation",children:"Key Generation"}),"\n",(0,d.jsx)(n.p,{children:"Each registered app automatically gets access to a decentralized on-chain key\nmanagement system."}),"\n",(0,d.jsx)(n.p,{children:"All generated keys can only be generated inside properly attested app instances\nand will remain the same even in case the app is deployed somewhere else or its\nstate is erased."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Endpoint:"})," ",(0,d.jsx)(n.code,{children:"/rofl/v1/keys/generate"})," (",(0,d.jsx)(n.code,{children:"POST"}),")"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example request:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "key_id": "demo key",\n  "kind": "secp256k1"\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Request fields:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"key_id"})," is used for domain separation of different keys (e.g. a different key\nid will generate a completely different key)."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"kind"})," defines what kind of key should be generated. The following values are\ncurrently supported:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"raw-256"})," to generate 256 bits of entropy."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"raw-386"})," to generate 384 bits of entropy."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ed25519"})," to generate an Ed25519 private key."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"secp256k1"})," to generate a Secp256k1 private key."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example response:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "key": "a54027bff15a8726b6d9f65383bff20db51c6f3ac5497143a8412a7f16dfdda9"\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["The generated ",(0,d.jsx)(n.code,{children:"key"})," is returned as a hexadecimal string."]}),"\n",(0,d.jsx)(n.h3,{id:"authenticated-transaction-submission",children:"Authenticated Transaction Submission"}),"\n",(0,d.jsxs)(n.p,{children:["An app running in ROFL can also submit ",(0,d.jsx)(n.em,{children:"authenticated transactions"})," to the chain\nwhere it is registered at. The special feature of these transactions is that\nthey are signed by an ",(0,d.jsx)(n.strong,{children:"endorsed ephemeral key"})," and are therefore automatically\nauthenticated as coming from the app itself."]}),"\n",(0,d.jsxs)(n.p,{children:["This makes it possible to easily authenticate the transaction origin in smart\ncontracts by simply invoking an ",(0,d.jsx)(n.a,{href:"https://api.docs.oasis.io/sol/sapphire-contracts/contracts/Subcall.sol/library.Subcall.html#roflensureauthorizedorigin",children:"appropriate subcall"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-solidity",children:"Subcall.roflEnsureAuthorizedOrigin(roflAppID);\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Endpoint:"})," ",(0,d.jsx)(n.code,{children:"/rofl/v1/tx/sign-submit"})," (",(0,d.jsx)(n.code,{children:"POST"}),")"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example request:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "encrypt": true,\n  "tx": {\n    "kind": "eth",\n    "data": {\n      "gas_limit": 200000,\n      "to": "1234845aaB7b6CD88c7fAd9E9E1cf07638805b20",\n      "value": "0",\n      "data": "dae1ee1f00000000000000000000000000000000000000000000000000002695a9e649b2"\n    }\n  }\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Request fields:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"tx"})," describes the transaction content with different transaction kinds being\nsupported (as defined by the ",(0,d.jsx)(n.code,{children:"kind"})," field):"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Ethereum-compatible calls (",(0,d.jsx)(n.code,{children:"eth"}),") use standard fields (",(0,d.jsx)(n.code,{children:"gas_limit"}),", ",(0,d.jsx)(n.code,{children:"to"}),",\n",(0,d.jsx)(n.code,{children:"value"})," and ",(0,d.jsx)(n.code,{children:"data"}),") to define the transaction content."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"gas_limit"})," may be provided either as a JSON number (e.g. ",(0,d.jsx)(n.code,{children:"21000"}),") or as\na decimal string or ",(0,d.jsx)(n.code,{children:"0x"}),"-prefixed hex string. All forms are interpreted\nas a non-negative 64-bit integer and must not contain whitespace."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"value"})," must represent a non-negative integer up to 256 bits and may be\nprovided as a decimal string, a ",(0,d.jsx)(n.code,{children:"0x"}),"-prefixed hex string, or as a JSON\nnumber up to ",(0,d.jsx)(n.code,{children:"2^64 - 1"}),". String forms must not contain whitespace."]}),"\n",(0,d.jsxs)(n.li,{children:["Hex-encoded fields such as ",(0,d.jsx)(n.code,{children:"to"})," and ",(0,d.jsx)(n.code,{children:"data"})," accept strings with or without\na leading ",(0,d.jsx)(n.code,{children:"0x"})," prefix, must not contain whitespace, and must not be\nprefix-only (",(0,d.jsx)(n.code,{children:'"0x"'}),"). Use an empty string (",(0,d.jsx)(n.code,{children:'""'}),") to represent empty bytes\n(e.g. ",(0,d.jsx)(n.code,{children:'to: ""'})," for contract creation, ",(0,d.jsx)(n.code,{children:'data: ""'})," for empty calldata).\nWhen ",(0,d.jsx)(n.code,{children:"to"})," is non-empty it must decode to exactly 20 bytes (an Ethereum\naddress)."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Oasis SDK calls (",(0,d.jsx)(n.code,{children:"std"}),") support CBOR-serialized hex-encoded ",(0,d.jsx)(n.code,{children:"Transaction"}),"s\nto be specified."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"encrypt"})," is a boolean flag specifying whether the transaction should be\nencrypted. By default this is ",(0,d.jsx)(n.code,{children:"true"}),". Note that encryption is handled\ntransparently for the caller using an ephemeral key and any response is first\ndecrypted before being passed on."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example response:"})}),"\n",(0,d.jsxs)(n.p,{children:["Inside ",(0,d.jsx)(n.code,{children:"data"})," the JSON response contains a CBOR-serialized hex-encoded\n",(0,d.jsx)(n.a,{href:"https://api.docs.oasis.io/rust/oasis_runtime_sdk/types/transaction/enum.CallResult.html",children:"call result"}),". To investigate it you will need to deserialize it first."]}),"\n",(0,d.jsx)(n.p,{children:"For example:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Successful call result:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "data": "a1626f6b40"\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["deserialized as ",(0,d.jsx)(n.code,{children:"{\"ok\": ''}"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Unsusccessful call result:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "data": "a1646661696ca364636f646508666d6f64756c656365766d676d6573736167657272657665727465643a20614a416f4c773d3d"\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["deserialized as\n",(0,d.jsx)(n.code,{children:'{"fail": {"code": 8, "module": "evm", "message": "reverted: aJAoLw=="}}'}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"replica-metadata",children:"Replica Metadata"}),"\n",(0,d.jsxs)(n.p,{children:["Replica metadata allows apps to publish arbitrary key-value pairs that are\nincluded in the on-chain ROFL replica registration. This metadata is\nautomatically namespaced with ",(0,d.jsx)(n.code,{children:"net.oasis.app."})," when published on-chain."]}),"\n",(0,d.jsx)(n.h4,{id:"get-metadata",children:"Get Metadata"}),"\n",(0,d.jsx)(n.p,{children:"Retrieve all user-set metadata key-value pairs."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Endpoint:"})," ",(0,d.jsx)(n.code,{children:"/rofl/v1/metadata"})," (",(0,d.jsx)(n.code,{children:"GET"}),")"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example response:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "key_fingerprint": "a54027bff15a8726",\n  "version": "1.0.0"\n}\n'})}),"\n",(0,d.jsx)(n.h4,{id:"set-metadata",children:"Set Metadata"}),"\n",(0,d.jsx)(n.p,{children:"Set metadata key-value pairs. This replaces all existing app-provided metadata\nand will trigger a registration refresh if the metadata has changed."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Endpoint:"})," ",(0,d.jsx)(n.code,{children:"/rofl/v1/metadata"})," (",(0,d.jsx)(n.code,{children:"POST"}),")"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example request:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "key_fingerprint": "a54027bff15a8726",\n  "version": "1.0.0"\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Note:"})," Metadata is validated against runtime-configured limits for the\nnumber of pairs, key size, and value size."]}),"\n",(0,d.jsx)(n.h3,{id:"query",children:"Query"}),"\n",(0,d.jsxs)(n.p,{children:["Runs arbitrary query method defined in the ",(0,d.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-sdk/tree/main/runtime-sdk",children:"Oasis Runtime SDK"})," module and\nreturns the result."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Endpoint:"})," ",(0,d.jsx)(n.code,{children:"/rofl/v1/query"})," (",(0,d.jsx)(n.code,{children:"POST"}),")"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example request:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "method": "rofl.App",\n  "args": "a16269645500694cb01f85408d624ea267f657bf285787a61db3"\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["Above we called the ",(0,d.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-sdk/blob/394da333625a189abd8b752a9f2dc46bb883a781/runtime-sdk/src/modules/rofl/mod.rs#L647",children:(0,d.jsx)(n.code,{children:"rofl.App"})})," method and passed the CBOR-encoded ROFL app ID\n",(0,d.jsx)(n.code,{children:"rofl1qrl7nqwvaledwkw3n75jd7htklvsczje554u4p6k"})," (",(0,d.jsx)(n.code,{children:"a1"})," (map) + ",(0,d.jsx)(n.code,{children:"626964"}),' (key\n"id") + ',(0,d.jsx)(n.code,{children:"55"})," (byte string, 21 bytes) + app ID in hex)."]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Request fields:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"method"}),": The internal name of the method. Query methods are those having the\n",(0,d.jsx)(n.code,{children:'#[handler(query = "...")]'})," annotation in the ",(0,d.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-sdk/tree/main/runtime-sdk",children:"Oasis Runtime SDK"})," source."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"args"}),": Query parameters for the method above serialized as CBOR and\nhex-encoded."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example response:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{"data":"a76269645500ffe981cceff2d759d19fa926faebb7d90c0a59a56373656b582056c6d4841fa5ad24ad761088cb7053ad312ef13f3c2f405640fdba2bde4c14386561646d696e55007814f3d954f41b6459eb9e4bc8fbc6767ece5aa9657374616b658249056bc75e2d631000004066706f6c696379a56466656573026671756f746573a263696173f663706373a363746478a173616c6c6f7765645f7464785f6d6f64756c657380737463625f76616c69646974795f706572696f64181e781e6d696e5f7463625f6576616c756174696f6e5f646174615f6e756d6265721268656e636c6176657382a2696d725f7369676e6572582000000000000000000000000000000000000000000000000000000000000000006a6d725f656e636c6176655820bd4844a79a12ba365e890ddeaebbc4e4292797c7d956b42c2e25e4aefce3b124a2696d725f7369676e6572582000000000000000000000000000000000000000000000000000000000000000006a6d725f656e636c6176655820412c94a9baa0949f718dbba41ab89c38ea5c320345bba36b07e2ef857ffe2fb96c656e646f7273656d656e747381a163616e79a06e6d61785f65787069726174696f6e036773656372657473a26a50494e4154415f4a5754590327a462706b58207f88546291174f854a8ce2eb4bbfc8e62e40d60cdae2d600920a766d3006bf6c646e616d65581aad0460d0f742ad697b6d7c8462cc2b153deeb051a791553ef52b656e6f6e63654f8cbbe6631910d9a702e49bd30ee8f46576616c75655902c1352d823e54f75c846579066e2c1a750387f0630e3f29dba5524984712883bb33371ff017e507ae432b135312af64bfb85f3b17def05b2ac2744256f5accf1a26b29cd8cd412f08bfc9204f9bfa670b2d65972cfc4a8d4e2074402f21c18dfe554b1f0a8a731c077699f741807b3a4047ef4dc570958b8b46111a445259e93c9b92a5f72a23d32cbbef875efe586a8ddda38f1fa286d19b369a2022c3eae1cdbf6f6de4dc055bbab36a2c4830f8e2c64437f5f878f419e21f3a4c0f13c47b63697668b34722eaa61bdffa12e82be6d0266a41590254c9d70e9237475f6115c2867065c49afa8032acdfe0bc5dc671ef48ebc58d893937659243479e2eaa38815cd8665541e4c7e40349524cda15f2d410cba100ee27f0a59dc63534f7cff2444b57c7b74060cf8c3e21e1590b597384a89a463d6bb4a52fc52a4592889448a8f8e0c02fef1689c1efea58ddc08783f6d22d7a908cdf2a45bc46a79a3b73ff5f13bbbf7219973a7382eee84b3b4d48036b5e87fb24223e6387a3e37f9c1ac9722534adfef0201ec13db2e70fe9cd0336f020e50b59d7d32951378f568a4ef3a8117386ff0f1ba4b7d33dcf913daa696a6a7d64d20220b0e5eec994ea56aa9c01f56f5e12bf7d555b3f4a218ddbd8ae1586d5cb1e76802c90e26472b233686e8449284829378163acd77d1b65d4953a76cc497584580c1a5ac4fe6d97fd818fa53c2eb43c6f1b7a79211ef57f24036b1f8ed37f4c3d36873bbbd876769a5fde17add6926317afc96c9707e10b150735c63877ffd6475b1a27b6dd108940f0097375e422b1d308c6c8a0a83847368f5760778c54f2a70b44f9365c55c4b5d69341cad62d6fdb11aa25a9e26b4977adebd65718042bda1cbbf988298d293547107c2f5899352188179bc4d22febc66e8e351885498e707dee583d052c0b7c13f930e4529b59c36c20ee3ee6d29d1a3e2bb65bd489b7206cd45d2ae046f1e147d6407c166e494e465552415f4150495f4b45595899a462706b582074be2e227be81a5e35943ac1b79e238395b9bc367f7a0d1eed740c259ae23a37646e616d65581ee5190cda87688753f6f221890bfed8fe0e27b3ced4a9bc54537da1f4cd90656e6f6e63654fcf5411193abf4f4711f17179ea4b6f6576616c756558304675a29c8398bc94b5057063b4badeb9937a6e019ef7f8095d6b5a035106d4e8e7d710af9b6883848886481c1d180cbc686d65746164617461a7736e65742e6f617369732e726f666c2e6e616d656f76616c696461746f722d6167656e74756e65742e6f617369732e726f666c2e617574686f72782a4d61746576c5be204a656b6f766563203c6d617465767a406f6173697370726f746f636f6c2e6f72673e766e65742e6f617369732e726f666c2e6c6963656e73656a4170616368652d322e30766e65742e6f617369732e726f666c2e76657273696f6e65302e312e30776e65742e6f617369732e726f666c2e686f6d6570616765784f68747470733a2f2f6769746875622e636f6d2f6f6173697370726f746f636f6c2f6572632d383030342f626c6f622f6d61737465722f524541444d452e6d642376616c696461746f722d6167656e7478196e65742e6f617369732e726f666c2e7265706f7369746f7279782968747470733a2f2f6769746875622e636f6d2f6f6173697370726f746f636f6c2f6572632d38303034781a6e65742e6f617369732e726f666c2e6465736372697074696f6e787f4c697374656e7320746f2056616c69646174696f6e52657175657374206576656e7473206f6620746865204552432d383030342076616c69646174696f6e20726567697374727920616e642076616c696461746573207768657468657220746865206167656e7420697320706f776572656420627920524f464c205445452e"}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["Inside ",(0,d.jsx)(n.code,{children:"data"})," the JSON response contains the CBOR-serialized method's return\nvalue in hex format."]}),"\n",(0,d.jsxs)(n.admonition,{type:"example",children:[(0,d.jsxs)(n.p,{children:["Check out ",(0,d.jsx)(n.a,{href:"https://github.com/oasisprotocol/demo-rofl/blob/ab7e60aeb5f10aaec0a5f401086b2ba259a30107/docker/app.sh#L9-L18",children:"this chunk"})," of the ROFL demo repository for querying\nwith ",(0,d.jsx)(n.code,{children:"curl"})," directly."]}),(0,d.jsxs)(n.p,{children:["For a production-ready Python example, check out the ",(0,d.jsx)(n.a,{href:"https://github.com/oasisprotocol/erc-8004/blob/18f8630f7397ec889ea55b008391664f3b736128/rofl-8004/rofl_metadata.py#L47",children:"ROFL-8004 implementation"}),"\nwhere the ",(0,d.jsx)(n.code,{children:"query"})," endpoint is used to fetch various app on-chain metadata for\nregistration in the ",(0,d.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-8004#identity-registry",children:"ERC-8004 identity registry"}),"."]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}}}]);