"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[2991],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var i=s(96540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}},82047:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"node/reference/upgrades/eden-upgrade","title":"Eden Upgrade","description":"This document provides an overview of the changes for the Eden Mainnet","source":"@site/docs/node/reference/upgrades/eden-upgrade.md","sourceDirName":"node/reference/upgrades","slug":"/node/reference/upgrades/eden-upgrade","permalink":"/node/reference/upgrades/eden-upgrade","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/docs/edit/main/docs/node/reference/upgrades/eden-upgrade.md","tags":[],"version":"current","lastUpdatedAt":1761867754000,"frontMatter":{"sidebar_custom_props":{}}}');var r=s(74848),t=s(28453);const o={sidebar_custom_props:{tags:void 0}},a="Eden Upgrade",d={},l=[{value:"Major Features",id:"major-features",level:2},{value:"Mechanics of the Upgrade",id:"mechanics-of-the-upgrade",level:2},{value:"Voting",id:"voting",level:3},{value:"Upgrade Instructions",id:"upgrade-instructions",level:3},{value:"Configuration Changes",id:"configuration-changes",level:3},{value:"Data Directory Changes",id:"data-directory-changes",level:3},{value:"State Changes",id:"state-changes",level:3},{value:"General",id:"general",level:4},{value:"Registry",id:"registry",level:4},{value:"Root Hash",id:"root-hash",level:4},{value:"Staking",id:"staking",level:4},{value:"Key Manager",id:"key-manager",level:4},{value:"Random Beacon",id:"random-beacon",level:4},{value:"Governance",id:"governance",level:4},{value:"Consensus",id:"consensus",level:4},{value:"Other",id:"other",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"eden-upgrade",children:"Eden Upgrade"})}),"\n",(0,r.jsx)(n.p,{children:"This document provides an overview of the changes for the Eden Mainnet\nupgrade."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"The Eden upgrade on Mainnet is scheduled at epoch 28017 which will happen\non 2023-11-29 at 10:02 AM UTC."})}),"\n",(0,r.jsx)(n.h2,{id:"major-features",children:"Major Features"}),"\n",(0,r.jsxs)(n.p,{children:["All features for the Eden upgrade are implemented as part of\n",(0,r.jsx)(n.strong,{children:"Oasis Core 23.0.x"})," release series which is a consensus protocol-breaking\nrelease."]}),"\n",(0,r.jsx)(n.p,{children:"Summary of the major features is as follows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"On-Chain Governance"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The upgrade adds support for delegators to participate in on-chain\ngovernance. So far, only validators have been able to vote on governance\nproposals on upgrades. From now on, anyone who is staking will be able to\noverride the votes of the validator."}),"\n",(0,r.jsx)(n.li,{children:"Prior to this upgrade, validators could vote solely on one specific type of\nupgrade proposal. This upgrade adds support for voting on parameter changes.\nAn example of such a change includes voting on the staking rewards schedule\nmodifications."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Node Operators UX"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"With the enhancement of the P2P Stack in the latest upgrade, we've\nintegrated support for state sync. This improvement simplifies the process\nof initiating a new node, enabling immediate synchronization without the\nneed for manual RPC node configuration."}),"\n",(0,r.jsx)(n.li,{children:"The upgrade lays the foundation for the system to distribute bundles\nautomatically. While this update doesn't enable this feature, in the future\nnodes will have the capability to upgrade automatically to the appropriate\nversion immediately after a governance vote passes."}),"\n",(0,r.jsx)(n.li,{children:"Enhancements have been made to bolster security and optimize the efficiency\nof specific queries."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Rotations"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The upgrade introduces major updates to facilitate key rotations, both for\nephemeral and state keys.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Key derivation for ephemeral keys will be modified such that the master\nephemeral key will be rotated on every epoch and old entropy will be\ndiscarded after a few epochs. As a result, past transaction keys will be\nirretrievable unless the user keeps additional data to enable disclosure\nof past transactions."}),"\n",(0,r.jsx)(n.li,{children:"The upgrade introduces support for state key rotations, incorporating key\ngenerations. ParaTimes can now rotate state keys daily, and use new keys\nfor newer state. This facilitates re-encryption and, in the event of a TCB\nrecovery, helps to partially mitigate the effects of compromised nodes."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ParaTime Confidential Query Latency"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The current confidential ParaTimes have a block delay when querying\nconfidential state following transaction execution. This is due to the fact\nthat the ParaTime needs to independently verify finalization in the\nconsensus layer to guard against attacks. The upcoming version introduces\nsame-block execution. As soon as a block gets finalized on the consensus\nlayer, ParaTimes can promptly obtain the latest state root hash and verify\nthe state without delay. This reduces latency for those looking to query\noutcomes of their transactions, e.g. dApp users and developers."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ParaTime Upgrades"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The upgrade reduces downtime associated with upgrading confidential\nParaTimes. Previously, an upgrade to Sapphire mandated an epoch of downtime.\nNow, as compute nodes transition to the new version, the upgrade will be\ninstantaneous, ensuring no delays or downtime."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ParaTime Performance"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The upgrade implements a series of modifications to enhance the robustness\nof runtimes. These improvements encompass better response mechanisms for SGX\nTCB recovery events, expanded support for new SGX platforms, and improved\nproof validation within runtimes."}),"\n",(0,r.jsx)(n.li,{children:"The upgrade improves runtime performance, especially in scenarios involving\nnode failures. Should nodes malfunction, the impact on performance will now\nbe significantly reduced."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"mechanics-of-the-upgrade",children:"Mechanics of the Upgrade"}),"\n",(0,r.jsx)(n.h3,{id:"voting",children:"Voting"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["On 2023-11-14, an upgrade proposal was proposed, which was accepted with\nmore than 86% of the total voting power of the validator set.\nThe upgrade is now scheduled for epoch ",(0,r.jsx)(n.strong,{children:"28017"}),"\n(2023-11-29, start at 10:02 AM UTC)."]})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"The Eden upgrade proposal has the ID number 3."})}),"\n",(0,r.jsxs)(n.p,{children:["For optimal voting experience, we recommend using the ",(0,r.jsx)(n.a,{href:"/build/tools/cli/",children:"Oasis CLI"}),".\nFollow these steps to cast your vote:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/build/tools/cli/wallet#import-file",children:"Import your keys into the wallet"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"oasis wallet import-file my_entity entity.pem\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/build/tools/cli/network#governance-cast-vote",children:"Cast your vote"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"oasis network governance cast-vote 3 yes\n"})}),"\n",(0,r.jsx)(n.h3,{id:"upgrade-instructions",children:"Upgrade Instructions"}),"\n",(0,r.jsx)(n.p,{children:"The following steps should be performed only after the network has reached the\nupgrade epoch and has halted:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Wait for the network to reach the upgrade epoch and halt. The node\nwill automatically stop without any action required on your part. After the\nnetwork has halted, proceed to the next steps."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Download the Mainnet genesis file published in the\n",(0,r.jsx)(n.a,{href:"https://github.com/oasisprotocol/mainnet-artifacts/releases/tag/2023-11-29",children:"Mainnet 2023-11-29 release"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["Mainnet state at epoch ",(0,r.jsx)(n.strong,{children:"28017"})," will be exported and migrated to a 23.0.x\ncompatible genesis file."]}),(0,r.jsx)(n.p,{children:"The new genesis file will be published on the above link soon after reaching the\nupgrade epoch."})]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Verify the provided Mainnet upgrade genesis file by comparing it to the\nlocal network state dump."}),"\n",(0,r.jsxs)(n.p,{children:["Find the ",(0,r.jsx)(n.code,{children:"genesis-oasis-3-at-HEIGHT.json"})," file in the ",(0,r.jsx)(n.code,{children:"exports"})," subdirectory in\nyour data dir (e.g. ",(0,r.jsx)(n.code,{children:"/node/"}),", ",(0,r.jsx)(n.code,{children:"/srv/oasis/node/"}),")  and run ",(0,r.jsx)(n.code,{children:"sha256sum"})," on it.\nAfterwards, compare it with the hash that we will share on the\n",(0,r.jsx)(n.code,{children:"#node-operators"})," Discord channel."]}),"\n",(0,r.jsxs)(n.p,{children:["The state changes are described in the ",(0,r.jsx)(n.a,{href:"#state-changes",children:"State Changes"}),"\nsection below."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Replace the old genesis file with the new Mainnet genesis file."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Ensure your node will remain stopped by disabling auto-starting via your\nprocess manager (e.g., ",(0,r.jsx)(n.a,{href:"https://systemd.io/",children:"systemd"})," or ",(0,r.jsx)(n.a,{href:"http://supervisord.org/",children:"Supervisor"}),")."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Back up the entire data directory of your node. Verify that the backup\nincludes the following folders:"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["for consensus: ",(0,r.jsx)(n.code,{children:"tendermint/abci-state"})," and ",(0,r.jsx)(n.code,{children:"tendermint/data"})]}),"\n",(0,r.jsxs)(n.li,{children:["for runtimes: ",(0,r.jsx)(n.code,{children:"runtimes/*/mkvs_storage.badger.db"})," and\n",(0,r.jsx)(n.code,{children:"runtimes/*/worker-local-storage.badger.db"})]}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/node/run-your-node/maintenance/wiping-node-state#state-wipe-and-keep-node-identity",children:"Wipe state"}),". This must be performed ",(0,r.jsx)(n.em,{children:"before"})," replacing the Oasis Node\nbinary. In case you are upgrading ParaTimes/runtimes ensure you read the\nfollowing section:"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"danger",children:[(0,r.jsx)(n.p,{children:"State of ParaTimes/runtimes is not affected by this upgrade and MUST NOT be\nwiped. Wiping state for confidential ParaTimes will prevent your compute or\nkey manager node from transitioning to the new network."}),(0,r.jsx)(n.p,{children:"To safely wipe the blockchain state on a runtime while preserving the runtime\nstate, follow these steps:"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dry run:"})," initiate a dry run to preview which files will be deleted by\nrunning the following command:"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# specify 'datadir' as your node's data directory\noasis-node unsafe-reset \\\n  --datadir=/node/data \\\n  --dry_run\n"})}),(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Wipe blockchain state:"})," after reviewing the dry run results, proceed with\nthe reset by running:"]}),"\n"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# specify 'datadir' as your node's data directory\noasis-node unsafe-reset \\\n  --datadir=/node/data\n"})}),(0,r.jsx)(n.p,{children:"Transitioning confidential ParaTimes to the new network requires local state\nthat is sealed to the CPU. This also means that bootstrapping a new node on a\nseparate CPU immediately after the network upgrade will not be possible until\nan updated ParaTime containing new trust roots is released and adopted."})]}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsxs)(n.li,{children:["Replace the old version of Oasis Node with version ",(0,r.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-core/releases/tag/v23.0.7",children:"23.0.7"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"The Oasis Core 23.0.7 binary in our published releases is built only for Ubuntu\n22.04 (GLIBC>=2.32). You'll have to build it yourself if you're using prior\nUbuntu versions (or other distributions using older system libraries)."})}),"\n",(0,r.jsxs)(n.ol,{start:"9",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Perform any needed ",(0,r.jsx)(n.a,{href:"#configuration-changes",children:"configuration changes"})," described\nbelow."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["(only Rosetta Gateway operators) Replace old version of Oasis Rosetta\nGateway with version ",(0,r.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-rosetta-gateway/releases/tag/v2.6.0",children:"2.6.0"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"(only Emerald paratime operators) Upgrade Emerald to version 11.0.0."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Start your node and re-enable auto-starting via your process manager."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"configuration-changes",children:"Configuration Changes"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["To see the full extent of the changes examine the ",(0,r.jsx)(n.a,{href:"https://github.com/oasisprotocol/oasis-core/blob/stable/23.0.x/CHANGELOG.md",children:"Change Log"})," of the 23.0.x\nrelease."]})}),"\n",(0,r.jsxs)(n.p,{children:["The node configuration has been refactored so that everything is now configured\nvia a YAML configuration file and ",(0,r.jsx)(n.strong,{children:"configuring via command-line options is no\nlonger supported"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Some configuration options have changed and so the configuration file needs to\nbe updated. To make this step easier, a command-line tool has been provided that\nwill perform most of the changes automatically. You can run it with:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"oasis-node config migrate --in config.yml --out new-config.yml\n"})}),"\n",(0,r.jsx)(n.p,{children:"The migration subcommand logs the various changes it makes and warns you if a\nconfig option is no longer supported, etc. At the end, any unknown sections of\nthe input config file are printed to the terminal to give you a chance to review\nthem and make manual changes if required."}),"\n",(0,r.jsx)(n.p,{children:"Note that the migration subcommand does not preserve comments and order of\nsections from the input YAML config file. You should always carefully read the\noutput of this command, as well as compare the generated config file with the\noriginal before using it."}),"\n",(0,r.jsx)(n.p,{children:"After you are satisfied with the new configuration file, replace the old file\nwith the new one as follows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mv new-config.yml config.yml\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsx)(n.p,{children:"The configuration format for seed nodes has changed and it now requires the\nnode's P2P public key to be used. In case your old configuration file contains\nknown Mainnet seed nodes, this transformation is performed automatically."}),(0,r.jsx)(n.p,{children:"However, if it contains unknown seed nodes then the conversion did not happen\nautomatically and you may need to obtain the seed node's P2P public key. For\nMainnet you can use the following addresses:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"H6u9MtuoWRKn5DKSgarj/dzr2Z9BsjuRHgRAoXITOcU=@35.199.49.168:26656"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"H6u9MtuoWRKn5DKSgarj/dzr2Z9BsjuRHgRAoXITOcU=@35.199.49.168:9200"})}),"\n"]}),(0,r.jsx)(n.p,{children:"Please be aware that every seed node should be configured to listen on two\ndistinct ports. One is dedicated to peer discovery within the CometBFT P2P\nnetwork, while the other is used to bootstrap the Oasis P2P network."})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"For those running the Emerald ParaTime, please make sure to upgrade to Emerald\nversion 11.0.0 before or soon after the network upgrade is completed."})}),"\n",(0,r.jsx)(n.h3,{id:"data-directory-changes",children:"Data Directory Changes"}),"\n",(0,r.jsxs)(n.p,{children:["The subdirectory (located inside the node's data directory) used to store\nconsensus-related data, previously called ",(0,r.jsx)(n.code,{children:"tendermint"})," (after the consensus\nlayer protocol backend) has been renamed to ",(0,r.jsx)(n.code,{children:"consensus"})," in Oasis Core 23.0.x. If\nany of your scripts rely on specific directory names, please make sure to update\nthem to reflect the changed sdirectory name."]}),"\n",(0,r.jsx)(n.h3,{id:"state-changes",children:"State Changes"}),"\n",(0,r.jsx)(n.p,{children:"The following parts of the genesis document will be updated:"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For a more detailed explanation of the parameters below, see the\n",(0,r.jsx)(n.a,{href:"/node/reference/genesis-doc#parameters",children:"Genesis Document"})," docs."]})}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["All state changes will be done automatically with the migration command provided\nby the new version of ",(0,r.jsx)(n.code,{children:"oasis-node"}),". It can be used as follows to derive the same\ngenesis file from an existing state dump at the correct height (assuming there\nis a ",(0,r.jsx)(n.code,{children:"genesis.json"})," present in the current working directory):"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"oasis-node genesis migrate --genesis.new_chain_id oasis-4\n"})})]}),"\n",(0,r.jsx)(n.h4,{id:"general",children:"General"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"chain_id"})})," will be set to ",(0,r.jsx)(n.code,{children:"oasis-4"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"halt_epoch"})})," will be removed as it is no longer used."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"registry",children:"Registry"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"registry.runtimes[].txn_scheduler.propose_batch_timeout"})})," specifies how\nlong to wait before accepting proposal from the next backup scheduler. It will\nbe set to ",(0,r.jsx)(n.code,{children:"5000000000"})," (5 seconds). Previously the value was represented in\nthe number of consensus layer blocks."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"registry.params.gas_costs.prove_freshness"})})," specifies the cost of the\nfreshness proof transaction. It will be set to ",(0,r.jsx)(n.code,{children:"1000"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"registry.params.gas_costs.update_keymanager"})})," specifies the cost of the\nkeymanager policy update transaction. It will be removed as the parameter has\nbeen moved under ",(0,r.jsx)(n.code,{children:"keymanager.params.gas_costs.update_policy"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"registry.params.tee_features"})})," specify various TEE features supported by\nthe consensus layer registry service. These will be set to the following\nvalues to activate the new features:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"tee_features": {\n  "sgx": {\n    "pcs": true,\n    "signed_attestations": true,\n    "max_attestation_age": 1200\n  },\n  "freshness_proofs": true\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"registry.params.max_runtime_deployments"})})," specifies the maximum number of\nruntime deployments that can be specified in the runtime descriptor. It will\nbe set to ",(0,r.jsx)(n.code,{children:"5"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"root-hash",children:"Root Hash"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"roothash.params.max_past_roots_stored"})})," specifies the maximum number of\npast runtime state roots that are stored in consensus state for each runtime.\nIt will be set to ",(0,r.jsx)(n.code,{children:"1200"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"staking",children:"Staking"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"staking.params.commission_schedule_rules.min_commission_rate"})})," specifies\nthe minimum commission rate. It will be set to ",(0,r.jsx)(n.code,{children:"0"})," to maintain the existing\nbehavior."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"staking.params.thresholds.node-observer"})})," specifies the stake threshold\nfor registering an observer node. It will be set to ",(0,r.jsx)(n.code,{children:"100000000000"})," base units\n(or ",(0,r.jsx)(n.code,{children:"100"})," tokens), same as for existing compute nodes."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"key-manager",children:"Key Manager"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"keymanager.params.gas_costs"})})," specify the cost of key manager\ntransactions. These will be set to the following values:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"gas_costs": {\n  "publish_ephemeral_secret": 1000,\n  "publish_master_secret": 1000,\n  "update_policy": 1000\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"random-beacon",children:"Random Beacon"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"beacon.base"})})," is the network's starting epoch. It will be set to the epoch\nof Mainnet's state dump + 1, ",(0,r.jsx)(n.code,{children:"28017"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"governance",children:"Governance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"governance.params.enable_change_parameters_proposal"})})," specifies whether\nparameter change governance proposals are allowed. It will be set to ",(0,r.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"consensus",children:"Consensus"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"consensus.params.max_block_size"})})," specifies the maximum block size in the\nconsensus layer. It will be set to ",(0,r.jsx)(n.code,{children:"1048576"})," (1 MiB)."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"other",children:"Other"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"extra_data"})})," will be set back to the value in the ",(0,r.jsx)(n.a,{href:"https://github.com/oasisprotocol/mainnet-artifacts/releases/tag/2020-11-18",children:"Mainnet genesis file"}),"\nto include the Oasis Network's genesis quote:"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.em,{children:"\u201d"}),(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Quis_custodiet_ipsos_custodes%3F",children:(0,r.jsx)(n.em,{children:"Quis custodiet ipsos custodes?"})}),(0,r.jsx)(n.em,{children:"\u201d [submitted by Oasis\nCommunity Member Daniyar Borangaziyev]:"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'"extra_data": {\n  "quote": "UXVpcyBjdXN0b2RpZXQgaXBzb3MgY3VzdG9kZXM/IFtzdWJtaXR0ZWQgYnkgT2FzaXMgQ29tbXVuaXR5IE1lbWJlciBEYW5peWFyIEJvcmFuZ2F6aXlldl0="\n}\n'})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);