"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[5801],{28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>t});var d=o(96540);const s={},i=d.createContext(s);function r(e){const n=d.useContext(i);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),d.createElement(i.Provider,{value:n},e.children)}},29140:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});const d=JSON.parse('{"id":"node/run-your-node/seed-node","title":"Seed Node","description":"This guide will cover setting up a seed node for the Oasis Network. This guide assumes some basic knowledge on the use of command line tools.","source":"@site/docs/node/run-your-node/seed-node.md","sourceDirName":"node/run-your-node","slug":"/node/run-your-node/seed-node","permalink":"/node/run-your-node/seed-node","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/docs/edit/main/docs/node/run-your-node/seed-node.md","tags":[],"version":"current","lastUpdatedAt":1761867754000,"frontMatter":{"sidebar_custom_props":{}},"sidebar":"operators","previous":{"title":"Non-validator Node","permalink":"/node/run-your-node/non-validator-node"},"next":{"title":"Archive Node","permalink":"/node/run-your-node/archive-node"}}');var s=o(74848),i=o(28453);const r={sidebar_custom_props:{tags:void 0}},t="Seed Node",a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Creating a Working Directory",id:"creating-a-working-directory",level:3},{value:"Copying the Genesis File",id:"copying-the-genesis-file",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Starting the Oasis Node",id:"starting-the-oasis-node",level:2},{value:"Seed node address",id:"seed-node-address",level:3},{value:"Share seed node address",id:"share-seed-node-address",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"seed-node",children:"Seed Node"})}),"\n",(0,s.jsx)(n.p,{children:"This guide will cover setting up a seed node for the Oasis Network. This guide assumes some basic knowledge on the use of command line tools."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.p,{children:["Before following this guide, make sure you've followed the ",(0,s.jsx)(n.a,{href:"/node/run-your-node/prerequisites/oasis-node",children:"Prerequisites Guide"})," and understand how to use the ",(0,s.jsx)(n.code,{children:"oasis-node"})," binary."]}),"\n",(0,s.jsx)(n.h3,{id:"creating-a-working-directory",children:"Creating a Working Directory"}),"\n",(0,s.jsxs)(n.p,{children:["We will be creating the following directory structure inside a chosen top-level ",(0,s.jsx)(n.code,{children:"/node"})," (feel free to name your directories however you wish) directory:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"etc"}),": This will store the node configuration and genesis file."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"data"}),": This will store the data directory needed by the running ",(0,s.jsx)(n.code,{children:"oasis-node"})," binary, including the complete blockchain state."]}),"\n",(0,s.jsxs)(n.p,{children:["The directory permissions should be ",(0,s.jsx)(n.code,{children:"rwx------"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To create the directory structure, use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"mkdir -m700 -p /node/{etc,data}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"copying-the-genesis-file",children:"Copying the Genesis File"}),"\n",(0,s.jsxs)(n.p,{children:["The latest genesis file can be found in the Network Parameters page (",(0,s.jsx)(n.a,{href:"/node/network/mainnet",children:"Mainnet"}),", ",(0,s.jsx)(n.a,{href:"/node/network/testnet",children:"Testnet"}),"). You should download the latest ",(0,s.jsx)(n.code,{children:"genesis.json"})," file and copy it to the ",(0,s.jsx)(n.code,{children:"/node/etc"})," directory we just created."]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"This will configure the given node to only act as a seed node."})}),"\n",(0,s.jsxs)(n.p,{children:["In order to configure the node create the ",(0,s.jsx)(n.code,{children:"/node/etc/config.yml"})," file with the following content:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"mode: seed\ncommon:\n    data_dir: /node/data\n    log:\n        format: JSON\n        level:\n            cometbft: info\n            cometbft/context: error\n            default: info\n\ngenesis:\n    file: /node/etc/genesis.json\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:["Make sure the ",(0,s.jsx)(n.code,{children:"consensus"})," port (default: ",(0,s.jsx)(n.code,{children:"26656"}),") and ",(0,s.jsx)(n.code,{children:"p2p.port"})," (default: ",(0,s.jsx)(n.code,{children:"9200"}),") are exposed and publicly\naccessible on the internet (for ",(0,s.jsx)(n.code,{children:"TCP"})," and ",(0,s.jsx)(n.code,{children:"UDP"})," traffic)."]})}),"\n",(0,s.jsx)(n.h2,{id:"starting-the-oasis-node",children:"Starting the Oasis Node"}),"\n",(0,s.jsx)(n.p,{children:"You can start the node by running the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"oasis-node --config /node/etc/config.yml\n"})}),"\n",(0,s.jsx)(n.h3,{id:"seed-node-address",children:"Seed node address"}),"\n",(0,s.jsx)(n.p,{children:"To get the seed node Tendermint identity, run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"oasis-node identity tendermint show-node-address --datadir /node/data/\n"})}),"\n",(0,s.jsx)(n.h3,{id:"share-seed-node-address",children:"Share seed node address"}),"\n",(0,s.jsx)(n.p,{children:"Nodes can now use your seed node by specifying it via a configuration flag:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"--consensus.tendermint.p2p.seed <TENDERMINT_ADDRESS>@<EXTERNAL_IP>:26656\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);