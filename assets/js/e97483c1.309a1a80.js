"use strict";(globalThis.webpackChunkdocs_oasis_io=globalThis.webpackChunkdocs_oasis_io||[]).push([[9215],{6595:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"build/opl/router-protocol/README","title":"Router Protocol","description":"Cross-chain dApps with Router Protocol","source":"@site/docs/build/opl/router-protocol/README.md","sourceDirName":"build/opl/router-protocol","slug":"/build/opl/router-protocol/","permalink":"/build/opl/router-protocol/","draft":false,"unlisted":false,"editUrl":"https://github.com/oasisprotocol/docs/edit/main/docs/build/opl/router-protocol/README.md","tags":[],"version":"current","lastUpdatedAt":1761867754000,"frontMatter":{"description":"Cross-chain dApps with Router Protocol","sidebar_custom_props":{}},"sidebar":"developers","previous":{"title":"Ping Pong Example","permalink":"/build/opl/hyperlane/pingpong-example"},"next":{"title":"PingPong Example","permalink":"/build/opl/router-protocol/pingpong-example"}}');var s=t(74848),n=t(28453);const i={description:"Cross-chain dApps with Router Protocol",sidebar_custom_props:{tags:void 0}},c="Router Protocol",a={},l=[{value:"Router CrossTalk",id:"router-crosstalk",level:2},{value:"Architecture",id:"architecture",level:3},{value:"Fees",id:"fees",level:3},{value:"Examples",id:"examples",level:3}];function h(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",section:"section",strong:"strong",sup:"sup",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"router-protocol",children:"Router Protocol"})}),"\n",(0,s.jsx)(o.p,{children:"Router Protocol offers two frameworks for cross-chain interactions:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Router CrossTalk"}),": Enables stateless and stateful cross-chain messaging"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Router Nitro"}),": Facilitates native cross-chain asset transfers"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["For guidance on choosing the appropriate framework, refer to Router's ",(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/overview/choosing-the-right-framework",children:"guide"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["This documentation focuses on ",(0,s.jsx)(o.strong,{children:"Router CrossTalk"}),". If you're primarily\ninterested in asset transfers, please consult the ",(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/develop/category/asset-transfer-via-nitro",children:"Router Nitro documentation"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"router-crosstalk",children:"Router CrossTalk"}),"\n",(0,s.jsx)(o.p,{children:"Router CrossTalk is designed to enable cross-chain interactions, allowing\ndevelopers to create decentralized applications (dApps) that operate across\nmultiple blockchain networks. This framework supports both stateless and\nstateful operations, providing flexible and efficient communication between\ncontracts on different chains."}),"\n",(0,s.jsx)(o.h3,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.img,{alt:"Router Architecture",src:t(66175).A+"",width:"4665",height:"2074"}),"\n",(0,s.jsxs)(o.em,{children:["High-level architecture diagram for Router CrossTalk",(0,s.jsx)(o.sup,{children:(0,s.jsx)(o.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]})]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.strong,{children:"CrossTalk"})," infrastructure consists of three main components:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Gateway"})," contracts on source and destination chains"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Orchestrators"})," on the Router chain"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Relayers"})," that forward messages to the Router Gateway contracts"]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"The process flow is as follows:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"The dApp contract calls the iSend function on the source chain's Gateway\ncontract."}),"\n",(0,s.jsx)(o.li,{children:"Orchestrators monitor events emitted by the Gateway contract."}),"\n",(0,s.jsx)(o.li,{children:"A Relayer picks up the transaction signed by the orchestrator and forwards\nthe message to the destination chain's Router Gateway contract."}),"\n",(0,s.jsxs)(o.li,{children:["Gateway contract on the destination chain calls the dApp contract's\n",(0,s.jsx)(o.code,{children:"iReceive"})," function."]}),"\n",(0,s.jsxs)(o.li,{children:["For acknowledgment, the process is reversed, and the Relayer calls the\n",(0,s.jsx)(o.code,{children:"iAck"})," function on the dApp contract on the source chain."]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"fees",children:"Fees"}),"\n",(0,s.jsx)(o.p,{children:"Fees in the cross-chain messaging process are paid by two parties:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["The dApp ",(0,s.jsx)(o.strong,{children:"user"})," pays when initiating the transaction on the source chain."]}),"\n",(0,s.jsxs)(o.li,{children:["The dApp ",(0,s.jsx)(o.strong,{children:"fee payer"})," pre-pays the Relayers for calling the Router Gateway\ncontract."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["To ensure the correct ",(0,s.jsx)(o.strong,{children:"fee payer"})," is used, the dApp's contract must register\nthe fee payer address as metadata with the Router Gateway. Additionally, the\n",(0,s.jsx)(o.strong,{children:"fee payer"})," needs to approve the conntract on the Router chain, which can be\ndone through the ",(0,s.jsx)(o.a,{href:"https://testnet.routerscan.io/feePayer",children:"Router Explorer"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["For more info about the ",(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/develop/message-transfer-via-crosstalk/key-concepts/fee-management",children:"fee management"}),", consult the Router documentation."]}),"\n",(0,s.jsx)(o.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(o.admonition,{title:"Example: PingPong",type:"note",children:(0,s.jsxs)(o.p,{children:["Explore our ",(0,s.jsx)(o.a,{href:"/build/opl/router-protocol/pingpong-example",children:"PingPong example"})," to see Router CrossTalk in action."]})}),"\n",(0,s.jsxs)(o.p,{children:["For more examples, refer to the  ",(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/develop/message-transfer-via-crosstalk",children:"Router Protocol documentation"}),":"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/develop/message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract",children:"Cross-Chain NFT"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/develop/message-transfer-via-crosstalk/evm-guides/cross-chain-read-requests",children:"Cross-Chain Read Request"})}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["and in the Router Protocol ",(0,s.jsx)(o.a,{href:"https://github.com/router-protocol/new-crosstalk-sample/",children:"CrossTalk sample repository"}),"."]}),"\n","\n",(0,s.jsxs)(o.section,{"data-footnotes":!0,className:"footnotes",children:[(0,s.jsx)(o.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{id:"user-content-fn-1",children:["\n",(0,s.jsxs)(o.p,{children:["The CrossTalk high-level architecture diagram is courtesy of ",(0,s.jsx)(o.a,{href:"https://docs.routerprotocol.com/develop/message-transfer-via-crosstalk/key-concepts/high-level-architecture",children:"Router documentation"}),". ",(0,s.jsx)(o.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,o,t)=>{t.d(o,{R:()=>i,x:()=>c});var r=t(96540);const s={},n=r.createContext(s);function i(e){const o=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(n.Provider,{value:o},e.children)}},66175:(e,o,t)=>{t.d(o,{A:()=>r});const r=t.p+"assets/images/router-architecture-62293f72aac999e958af622280b3e15c.png"}}]);