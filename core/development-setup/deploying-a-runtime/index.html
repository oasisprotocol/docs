<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-core/development-setup/deploying-a-runtime" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Deploying a Runtime | Oasis Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.oasis.io/core/development-setup/deploying-a-runtime"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying a Runtime | Oasis Documentation"><meta data-rh="true" name="description" content="Before proceeding, make sure to look at the [prerequisites] required for running"><meta data-rh="true" property="og:description" content="Before proceeding, make sure to look at the [prerequisites] required for running"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.oasis.io/core/development-setup/deploying-a-runtime"><link data-rh="true" rel="alternate" href="https://docs.oasis.io/core/development-setup/deploying-a-runtime" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.oasis.io/core/development-setup/deploying-a-runtime" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.551f8251.css">
<script src="/assets/js/runtime~main.4f6be8e5.js" defer="defer"></script>
<script src="/assets/js/main.9d193f4f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/logo_dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Oasis Docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.svg" alt="Oasis Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/build/">Build</a><a class="navbar__item navbar__link" href="/general/">Learn</a><a class="navbar__item navbar__link" href="/get-involved/">Get Involved</a><a class="navbar__item navbar__link" href="/node/">Run Node</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/core/">Develop Core</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/oasisprotocol" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub repository" aria-label="GitHub repository"></a><a href="https://oasis.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-www-link" title="Oasis website" aria-label="Oasis website"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/core/"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--active" href="/core/development-setup"><span title="Development Setup" class="categoryLinkLabel_W154">Development Setup</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/core/development-setup/build-environment-setup-and-building"><span title="Build Environment Setup and Building" class="categoryLinkLabel_W154">Build Environment Setup and Building</span></a><button aria-label="Expand sidebar category &#x27;Build Environment Setup and Building&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/core/development-setup/running-tests-and-development-networks"><span title="Running Tests and Development Networks" class="categoryLinkLabel_W154">Running Tests and Development Networks</span></a><button aria-label="Collapse sidebar category &#x27;Running Tests and Development Networks&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/core/development-setup/running-tests"><span title="Running Tests" class="linkLabel_WmDU">Running Tests</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/core/development-setup/oasis-net-runner"><span title="Local Network Runner" class="linkLabel_WmDU">Local Network Runner</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/core/development-setup/single-validator-node-network"><span title="Single Validator Node Network" class="linkLabel_WmDU">Single Validator Node Network</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/core/development-setup/deploying-a-runtime"><span title="Deploying a Runtime" class="linkLabel_WmDU">Deploying a Runtime</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link" href="/core/high-level-components"><span title="High-Level Components" class="categoryLinkLabel_W154">High-Level Components</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/core/consensus/"><span title="Consensus Layer" class="categoryLinkLabel_W154">Consensus Layer</span></a><button aria-label="Expand sidebar category &#x27;Consensus Layer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/core/runtime/"><span title="Runtime Layer" class="categoryLinkLabel_W154">Runtime Layer</span></a><button aria-label="Expand sidebar category &#x27;Runtime Layer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/core/oasis-node"><span title="Oasis Node" class="categoryLinkLabel_W154">Oasis Node</span></a><button aria-label="Expand sidebar category &#x27;Oasis Node&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link" href="/core/common-functionality"><span title="Common Functionality" class="categoryLinkLabel_W154">Common Functionality</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/core/encoding"><span title="Encoding" class="linkLabel_WmDU">Encoding</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/core/crypto"><span title="Cryptography" class="linkLabel_WmDU">Cryptography</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/core/authenticated-grpc"><span title="Protocols" class="categoryLinkLabel_W154">Protocols</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/core/mkvs"><span title="Merklized Key-Value Store (MKVS)" class="linkLabel_WmDU">Merklized Key-Value Store (MKVS)</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link" href="/core/processes"><span title="Processes" class="categoryLinkLabel_W154">Processes</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/core/release-process"><span title="Release Process" class="linkLabel_WmDU">Release Process</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/core/versioning"><span title="Versioning" class="linkLabel_WmDU">Versioning</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/core/SECURITY"><span title="Security" class="linkLabel_WmDU">Security</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/adrs"><span title="ADRs" class="linkLabel_WmDU">ADRs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://api.docs.oasis.io/js/client" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Core Client TypeScript API" class="linkLabel_WmDU">Core Client TypeScript API</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://pkg.go.dev/github.com/oasisprotocol/oasis-core/go" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK"><span title="Core Client Go API" class="linkLabel_WmDU">Core Client Go API</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploying a Runtime</h1></header>
<p>Before proceeding, make sure to look at the <a class="" href="/core/development-setup/prerequisites">prerequisites</a> required for running
an Oasis Core environment followed by <a class="" href="/core/development-setup/building">build instructions</a> for the respective
environment (non-SGX or SGX), using the <a class="" href="/core/development-setup/oasis-net-runner"><code>oasis-net-runner</code></a> and see <a class="" href="/core/runtime/">runtime
documentation</a> for a general documentation on runtimes.</p>
<p>These instructions will show how to register and deploy a runtime node on a
local development network.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="provision-a-single-validator-node-network">Provision a Single Validator Node Network<a href="#provision-a-single-validator-node-network" class="hash-link" aria-label="Direct link to Provision a Single Validator Node Network" title="Direct link to Provision a Single Validator Node Network" translate="no">​</a></h2>
<p>Use the <a class="" href="/core/development-setup/oasis-net-runner"><code>oasis-net-runner</code></a> to provision a validator node network without any
registered runtimes.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir /tmp/runtime-example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oasis-net-runner \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --basedir.no_temp_dir \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --basedir /tmp/runtime-example \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --fixture.default.node.binary go/oasis-node/oasis-node \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --fixture.default.setup_runtimes=false \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --fixture.default.deterministic_entities \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --fixture.default.fund_entities \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --fixture.default.num_entities 2</span><br></span></code></pre></div></div>
<p>The following steps should be run in a separate terminal window. To simplify the
instructions set up an <code>ADDR</code> environment variable pointing to the UNIX socket
exposed by the started node:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export ADDR=unix:/tmp/runtime-example/net-runner/network/validator-0/internal.sock</span><br></span></code></pre></div></div>
<p>Confirm the network is running by listing all registered entities:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry entity list -a $ADDR -v</span><br></span></code></pre></div></div>
<p>Should give output similar to:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;v&quot;:2,&quot;id&quot;:&quot;JTUtHd4XYQjh//e6eYU7Pa/XMFG88WE+jixvceIfWrk=&quot;,&quot;nodes&quot;:[&quot;LQu4ZtFg8OJ0MC4M4QMeUR7Is6Xt4A/CW+PK/7TPiH0=&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;v&quot;:2,&quot;id&quot;:&quot;+MJpnSTzc11dNI5emMa+asCJH5cxBiBCcpbYE4XBdso=&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;v&quot;:2,&quot;id&quot;:&quot;TqUyj5Q+9vZtqu10yw6Zw7HEX3Ywe0JQA9vHyzY47TU=&quot;}</span><br></span></code></pre></div></div>
<p>In following steps we will register and run the <a href="https://github.com/oasisprotocol/oasis-core/tree/master/tests/runtimes/simple-keyvalue" target="_blank" rel="noopener noreferrer" class="">simple-keyvalue</a> runtime on the
network.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="initializing-a-runtime">Initializing a Runtime<a href="#initializing-a-runtime" class="hash-link" aria-label="Direct link to Initializing a Runtime" title="Direct link to Initializing a Runtime" translate="no">​</a></h2>
<p>To generate and sign a runtime registration transaction that will initialize and
register the runtime we will use the <code>registry runtime gen_register</code> command.
When initializing a runtime we need to provide the runtime descriptor.</p>
<p>For additional information about runtimes and parameters see the <a class="" href="/core/runtime/">runtime
documentation</a> and <a href="https://pkg.go.dev/github.com/oasisprotocol/oasis-core/go/registry/api?tab=doc#Runtime" target="_blank" rel="noopener noreferrer" class="">code reference</a>.</p>
<p>Before generating the registration transaction, gather the following data and
set up environment variables to simplify instructions.</p>
<ul>
<li class=""><code>ENTITY_DIR</code> - Path to the entity directory created when starting the
development network. This entity will be the runtime owner. The genesis used
in the provisioning initial network step funds the all entities in entities.
In the following instructions we will be using the <code>entity-2</code> entity (located
in <code>/tmp/runtime-example/net-runner/network/entity-2/</code> directory).</li>
<li class=""><code>ENTITY_ID</code> - ID of the entity that will be the owner of the runtime. You can
get the entity ID from <code>$ENTITY_DIR/entity.json</code> file.</li>
<li class=""><code>GENESIS_JSON</code> - Path to the genesis.json file used in the development
network. (defaults to:
<code>/tmp/runtime-example/net-runner/network/genesis.json</code>).</li>
<li class=""><code>RUNTIME_ID</code> - See <a class="" href="/core/runtime/identifiers">runtime identifiers</a> on how to choose a runtime
identifier. In this example we use
<code>8000000000000000000000000000000000000000000000000000000001234567</code> which is a
test identifier that will not work outside local tests.</li>
<li class=""><code>RUNTIME_GENESIS_JSON</code> - Path to the runtime genesis state file. The runtime
used in this example does not use a genesis file.</li>
<li class=""><code>NONCE</code> - Entity account nonce. If you followed the guide, nonce <code>0</code> would be
the initial nonce to use for the entity. Note: make sure to keep updating the
nonce when generating new transactions. To query for current account nonce
value use <a class="" href="/core/oasis-node/cli#info">stake account info</a> CLI.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export ENTITY_DIR=/tmp/runtime-example/net-runner/network/entity-2/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ENTITY_ID=+MJpnSTzc11dNI5emMa+asCJH5cxBiBCcpbYE4XBdso=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export GENESIS_JSON=/tmp/runtime-example/net-runner/network/genesis.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RUNTIME_ID=8000000000000000000000000000000000000000000000000000000001234567</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RUNTIME_DESCRIPTOR=/tmp/runtime-example/runtime_descriptor.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export NONCE=0</span><br></span></code></pre></div></div>
<p>Prepare a runtime descriptor:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &lt;&lt; EOF &gt; &quot;${RUNTIME_DESCRIPTOR}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;v&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;${RUNTIME_ID}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;entity_id&quot;: &quot;${ENTITY_ID}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;genesis&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;state_root&quot;: &quot;c672b8d1ef56ed28ab87c3622c5114069bdd3ad7b8f9737498d0c01ecef0967a&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;state&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage_receipts&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;round&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;kind&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;tee_hardware&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;versions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;version&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;executor&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;group_size&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;group_backup_size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowed_stragglers&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;round_timeout&quot;: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_messages&quot;: 32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;txn_scheduler&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;algorithm&quot;: &quot;simple&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;batch_flush_timeout&quot;: 1000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_batch_size&quot;: 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_batch_size_bytes&quot;: 16777216,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;propose_batch_timeout&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;storage&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;group_size&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;min_write_replication&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_apply_write_log_entries&quot;: 100000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_apply_ops&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;checkpoint_interval&quot;: 10000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;checkpoint_num_kept&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;checkpoint_chunk_size&quot;: 8388608</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;admission_policy&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;entity_whitelist&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;entities&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;${ENTITY_ID}&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;staking&quot;: {},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;governance_model&quot;: &quot;entity&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry runtime gen_register \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.fee.gas 1000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.fee.amount 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.file /tmp/runtime-example/register_runtime.tx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.nonce $NONCE \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --genesis.file $GENESIS_JSON \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --signer.backend file \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --signer.dir $ENTITY_DIR \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --runtime.descriptor /tmp/runtime-example/runtime-descriptor.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug.dont_blame_oasis \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug.allow_test_keys</span><br></span></code></pre></div></div>
<p>After confirmation, this command outputs a signed transaction in the
<code>/tmp/runtime-example/register_runtime.tx</code> file. In the next step we will submit
the transaction to complete the runtime registration.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>When registering a runtime on a <em>non-development</em> network you will likely want
to modify default parameters. Additionally, since we are running this on a debug
network, we had to enable the <code>debug.dont_blame_oasis</code> and
<code>debug.allow_test_keys</code> flags.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="submitting-the-runtime-register-transaction">Submitting the Runtime Register Transaction<a href="#submitting-the-runtime-register-transaction" class="hash-link" aria-label="Direct link to Submitting the Runtime Register Transaction" title="Direct link to Submitting the Runtime Register Transaction" translate="no">​</a></h2>
<p>To register the runtime, submit the generated transaction.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node consensus submit_tx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --transaction.file /tmp/runtime-example/register_runtime.tx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --address $ADDR</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="confirm-runtime-is-registered">Confirm Runtime is Registered<a href="#confirm-runtime-is-registered" class="hash-link" aria-label="Direct link to Confirm Runtime is Registered" title="Direct link to Confirm Runtime is Registered" translate="no">​</a></h2>
<p>To confirm the runtime is registered use the <code>registry runtime list</code> command.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry runtime list \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --verbose \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --include_suspended \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --address $ADDR</span><br></span></code></pre></div></div>
<p>Should give output similar to</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;v&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;8000000000000000000000000000000000000000000000000000000001234567&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;entity_id&quot;: &quot;+MJpnSTzc11dNI5emMa+asCJH5cxBiBCcpbYE4XBdso=&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;genesis&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;state_root&quot;: &quot;c672b8d1ef56ed28ab87c3622c5114069bdd3ad7b8f9737498d0c01ecef0967a&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;state&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage_receipts&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;round&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;kind&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;tee_hardware&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;versions&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;version&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;executor&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;group_size&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;group_backup_size&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowed_stragglers&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;round_timeout&quot;: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_messages&quot;: 32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;txn_scheduler&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;algorithm&quot;: &quot;simple&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;batch_flush_timeout&quot;: 1000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_batch_size&quot;: 1000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_batch_size_bytes&quot;: 16777216,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;propose_batch_timeout&quot;: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;storage&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;group_size&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;min_write_replication&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_apply_write_log_entries&quot;: 100000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;max_apply_ops&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;checkpoint_interval&quot;: 10000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;checkpoint_num_kept&quot;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;checkpoint_chunk_size&quot;: 8388608</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;admission_policy&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;entity_whitelist&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;entities&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;+MJpnSTzc11dNI5emMa+asCJH5cxBiBCcpbYE4XBdso=&quot;: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;staking&quot;: {},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;governance_model&quot;: &quot;entity&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Since we did not setup any runtime nodes, the runtime
will get <a class="" href="/core/runtime/#suspending-runtimes">suspended</a> until nodes for the runtime register.</p></div></div>
<p>In the next step we will setup and run a runtime node.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="running-a-runtime-node">Running a Runtime Node<a href="#running-a-runtime-node" class="hash-link" aria-label="Direct link to Running a Runtime Node" title="Direct link to Running a Runtime Node" translate="no">​</a></h2>
<p>We will now run a node that will act as a compute, storage and client node for
the runtime.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>In a real word scenario there would be multiple nodes
running the runtime, each likely serving as a single type only.</p></div></div>
<p>Before running the node, gather the following data parameters and set up
environment variables to simplify instructions.</p>
<ul>
<li class=""><code>RUNTIME_BINARY</code> - Path to the runtime binary that will be run on the node. We
will use the <a href="https://github.com/oasisprotocol/oasis-core/tree/master/tests/runtimes/simple-keyvalue" target="_blank" rel="noopener noreferrer" class="">simple-keyvalue</a> runtime. If you followed the <a class="" href="/core/development-setup/building">build
instructions</a> the built binary is available at
<code>./target/default/release/simple-keyvalue</code>.</li>
<li class=""><code>SEED_NODE_ADDRESS</code> - Address of the seed node in the development network.
Seed node address can be seen in the <code>oasis-net-runner</code> logs, when the network
is initially provisioned.</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export RUNTIME_BINARY=/workdir/target/default/release/simple-keyvalue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export SEED_NODE_ADDRESS=&lt;seed-node-cometbft-addr&gt;@127.0.0.1:20000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Runtime node data dir.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -m 0700 /tmp/runtime-example/runtime-node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start runtime node.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --datadir /tmp/runtime-example/runtime-node \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --log.level debug \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --log.format json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --log.file /tmp/runtime-example/runtime-node/node.log \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --grpc.log.debug \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --worker.registration.entity $ENTITY_DIR/entity.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --genesis.file $GENESIS_JSON \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --worker.storage.enabled \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --worker.compute.enabled \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --runtime.provisioner unconfined \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --runtime.supported $RUNTIME_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --runtime.paths $RUNTIME_ID=$RUNTIME_BINARY \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --consensus.cometbft.debug.addr_book_lenient \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --consensus.cometbft.debug.allow_duplicate_ip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --consensus.cometbft.p2p.seed $SEED_NODE_ADDRESS \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug.dont_blame_oasis \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug.allow_test_keys</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>This also enables unsafe debug-only flags which must never be used in a
production setting as they may result in node compromise.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>When running a runtime node in a production setting, the <code>p2p.addresses</code> flag
needs to be configured as well.</p></div></div>
<p>Following steps should be run in a new terminal window.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="updating-entity-nodes">Updating Entity Nodes<a href="#updating-entity-nodes" class="hash-link" aria-label="Direct link to Updating Entity Nodes" title="Direct link to Updating Entity Nodes" translate="no">​</a></h2>
<p>Before the newly started runtime node can register itself as a runtime node, we
need to update the entity information in registry, to include the started node.</p>
<p>Before proceeding, gather the runtime node id and store it in a variable. If you
followed above instructions, the node id can be seen in
<code>/tmp/runtime-example/runtime-node/identity_pub.pem</code> (or using the <a class="" href="/core/oasis-node/cli#status">node control
status command</a>).</p>
<p>Update the entity and generate a transaction that will update the registry
state.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># NOTE: this ID is not generated deterministically make sure to change the ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># with your node id.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export NODE_ID=NOPhD7UlMZBO8fNyo2xLFanlmvl+EmZ5s4mM2z9nEBg=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry entity update \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --signer.dir $ENTITY_DIR  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --entity.node.id $NODE_ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry entity gen_register \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --genesis.file $GENESIS_JSON \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --signer.backend file \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --signer.dir $ENTITY_DIR \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.file /tmp/runtime-example/update_entity.tx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.fee.gas 2000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.fee.amount 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --transaction.nonce $NONCE \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug.dont_blame_oasis \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug.allow_test_keys</span><br></span></code></pre></div></div>
<p>Submit the generated transaction:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node consensus submit_tx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --transaction.file /tmp/runtime-example/update_entity.tx \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --address $ADDR</span><br></span></code></pre></div></div>
<p>Confirm the entity in the registry has been updated by querying the registry
state:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry entity list -a $ADDR -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;v&quot;:1,&quot;id&quot;:&quot;JTUtHd4XYQjh//e6eYU7Pa/XMFG88WE+jixvceIfWrk=&quot;,&quot;nodes&quot;:[&quot;LQu4ZtFg8OJ0MC4M4QMeUR7Is6Xt4A/CW+PK/7TPiH0=&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;v&quot;:1,&quot;id&quot;:&quot;+MJpnSTzc11dNI5emMa+asCJH5cxBiBCcpbYE4XBdso=&quot;,&quot;nodes&quot;:[&quot;vWUfSmjrHSlN5tSSO3/Qynzx+R/UlwPV9u+lnodQ00c=&quot;]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;v&quot;:1,&quot;id&quot;:&quot;TqUyj5Q+9vZtqu10yw6Zw7HEX3Ywe0JQA9vHyzY47TU=&quot;,&quot;allow_entity_signed_nodes&quot;:true}</span><br></span></code></pre></div></div>
<p>Node is now able to register and the runtime should get resumed, make sure this
happens by querying the registry for runtimes:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Ensure node is registered</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry node list -a $ADDR -v | grep &quot;$NODE_ID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ensure runtime is resumed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oasis-node registry runtime list -a $ADDR -v</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>You might need to wait few seconds for an epoch
transition so that the node is registered and runtime gets resumed.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/oasisprotocol/oasis-core/edit/stable/24.2.x/docs/development-setup/deploying-a-runtime.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-01-21T12:05:19.000Z" itemprop="dateModified">Jan 21, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/core/development-setup/single-validator-node-network"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Single Validator Node Network</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/core/high-level-components"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">High-Level Components</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#provision-a-single-validator-node-network" class="table-of-contents__link toc-highlight">Provision a Single Validator Node Network</a></li><li><a href="#initializing-a-runtime" class="table-of-contents__link toc-highlight">Initializing a Runtime</a></li><li><a href="#submitting-the-runtime-register-transaction" class="table-of-contents__link toc-highlight">Submitting the Runtime Register Transaction</a></li><li><a href="#confirm-runtime-is-registered" class="table-of-contents__link toc-highlight">Confirm Runtime is Registered</a></li><li><a href="#running-a-runtime-node" class="table-of-contents__link toc-highlight">Running a Runtime Node</a></li><li><a href="#updating-entity-nodes" class="table-of-contents__link toc-highlight">Updating Entity Nodes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://explorer.oasis.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Explorer</a></li><li class="footer__item"><a href="https://wallet.oasis.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wallet</a></li><li class="footer__item"><a href="https://github.com/oasisprotocol/cli" target="_blank" rel="noopener noreferrer" class="footer__link-item">CLI</a></li><li class="footer__item"><a href="https://status.oasis.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Build</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://faucet.testnet.oasis.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet Faucet</a></li><li class="footer__item"><a href="https://playground.oasis.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground</a></li><li class="footer__item"><a href="https://api.docs.oasis.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Node</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/node/network/mainnet">Mainnet</a></li><li class="footer__item"><a class="footer__link-item" href="/node/network/testnet">Testnet</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://oasis.io/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://t.me/oasisprotocolcommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC35UFPcZ2F1wjPxhPrSsESQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/oasisprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
<p xmlns:cc="http://creativecommons.org/ns#">Copyright © 2026
by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://oasis.net">
Oasis Protocol Foundation</a>. We <a href="https://oasisprotocol.org/privacy-policy" target="_blank" rel="noopener noreferrer">respect your privacy</a>.
Unless otherwise specified, all text and images on this website are licensed
under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="/img/cc.svg"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="/img/by.svg"></a>.
This does not include the Oasis software and the code examples, both of which are
licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
Apache 2.0</a>. Built with &#x2665; and Docusaurus.</p></div></div></div></footer><!--$--><!--/$--></div>
</body>
</html>