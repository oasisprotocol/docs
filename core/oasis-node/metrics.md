# Metrics

Source: https://docs.oasis.io/core/oasis-node/metrics

`oasis-node` can report a number of metrics to Prometheus server. By default,
no metrics are collected and reported. There is one way to enable metrics
reporting:

* *Pull mode* listens on given address and waits for Prometheus to scrape the
  metrics.

## Configuring `oasis-node` in Pull Mode

To run `oasis-node` in *pull mode* with Prometheus metrics enabled, add the
following to your `config.yml`.

```
metrics:
  mode: pull
  address: 0.0.0.0:3000
```

After restarting the node, Prometheus metrics will be exposed on port 3000.

Then, add the following segment to your `prometheus.yml` and restart
Prometheus:

```yaml
  - job_name : 'oasis-node'

    scrape_interval: 5s

    static_configs:
      - targets: ['localhost:3000']
```

## Metrics Reported by `oasis-node`

`oasis-node` reports metrics starting with `oasis_`.

The following metrics are currently reported:

| Name                                                                               | Type    | Description                                                                               | Labels                 | Package                                                                                                                                      |
| ---------------------------------------------------------------------------------- | ------- | ----------------------------------------------------------------------------------------- | ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| oasis\_abci\_db\_size                                                              | Gauge   | Total size of the ABCI database (MiB).                                                    |                        | [consensus/cometbft/abci](https://github.com/oasisprotocol/oasis-core/tree/master/go/consensus/cometbft/abci/mux.go)                         |
| oasis\_codec\_size                                                                 | Summary | CBOR codec message size (bytes).                                                          | call, module           | [common/cbor](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/cbor/codec.go)                                               |
| oasis\_consensus\_proposed\_blocks                                                 | Counter | Number of blocks proposed by the node.                                                    | backend                | [consensus/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/consensus/metrics/metrics.go)                                 |
| oasis\_consensus\_signed\_blocks                                                   | Counter | Number of blocks signed by the node.                                                      | backend                | [consensus/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/consensus/metrics/metrics.go)                                 |
| oasis\_finalized\_rounds                                                           | Counter | Number of finalized rounds.                                                               |                        | [roothash](https://github.com/oasisprotocol/oasis-core/tree/master/go/roothash/metrics.go)                                                   |
| oasis\_grpc\_client\_calls                                                         | Counter | Number of gRPC calls.                                                                     | call                   | [common/grpc](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/grpc/grpc.go)                                                |
| oasis\_grpc\_client\_latency                                                       | Summary | gRPC call latency (seconds).                                                              | call                   | [common/grpc](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/grpc/grpc.go)                                                |
| oasis\_grpc\_client\_stream\_writes                                                | Counter | Number of gRPC stream writes.                                                             | call                   | [common/grpc](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/grpc/grpc.go)                                                |
| oasis\_grpc\_server\_calls                                                         | Counter | Number of gRPC calls.                                                                     | call                   | [common/grpc](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/grpc/grpc.go)                                                |
| oasis\_grpc\_server\_latency                                                       | Summary | gRPC call latency (seconds).                                                              | call                   | [common/grpc](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/grpc/grpc.go)                                                |
| oasis\_grpc\_server\_stream\_writes                                                | Counter | Number of gRPC stream writes.                                                             | call                   | [common/grpc](https://github.com/oasisprotocol/oasis-core/tree/master/go/common/grpc/grpc.go)                                                |
| oasis\_node\_cpu\_stime\_seconds                                                   | Gauge   | CPU system time spent by worker as reported by /proc/\<PID>/stat (seconds).               |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/cpu.go)             |
| oasis\_node\_cpu\_utime\_seconds                                                   | Gauge   | CPU user time spent by worker as reported by /proc/\<PID>/stat (seconds).                 |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/cpu.go)             |
| oasis\_node\_disk\_read\_bytes                                                     | Gauge   | Read data from block storage by the worker as reported by /proc/\<PID>/io (bytes).        |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/disk.go)            |
| oasis\_node\_disk\_usage\_bytes                                                    | Gauge   | Size of datadir of the worker (bytes).                                                    |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/disk.go)            |
| oasis\_node\_disk\_written\_bytes                                                  | Gauge   | Written data from block storage by the worker as reported by /proc/\<PID>/io (bytes)      |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/disk.go)            |
| oasis\_node\_mem\_rss\_anon\_bytes                                                 | Gauge   | Size of resident anonymous memory of worker as reported by /proc/\<PID>/status (bytes).   |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/mem.go)             |
| oasis\_node\_mem\_rss\_file\_bytes                                                 | Gauge   | Size of resident file mappings of worker as reported by /proc/\<PID>/status (bytes)       |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/mem.go)             |
| oasis\_node\_mem\_rss\_shmem\_bytes                                                | Gauge   | Size of resident shared memory of worker.                                                 |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/mem.go)             |
| oasis\_node\_mem\_vm\_size\_bytes                                                  | Gauge   | Virtual memory size of worker (bytes).                                                    |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/mem.go)             |
| oasis\_node\_net\_receive\_bytes\_total                                            | Gauge   | Received data for each network device as reported by /proc/net/dev (bytes).               | device                 | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/net.go)             |
| oasis\_node\_net\_receive\_packets\_total                                          | Gauge   | Received data for each network device as reported by /proc/net/dev (packets).             | device                 | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/net.go)             |
| oasis\_node\_net\_transmit\_bytes\_total                                           | Gauge   | Transmitted data for each network device as reported by /proc/net/dev (bytes).            | device                 | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/net.go)             |
| oasis\_node\_net\_transmit\_packets\_total                                         | Gauge   | Transmitted data for each network device as reported by /proc/net/dev (packets).          | device                 | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/net.go)             |
| oasis\_p2p\_blocked\_peers                                                         | Gauge   | Number of blocked P2P peers.                                                              |                        | [p2p](https://github.com/oasisprotocol/oasis-core/tree/master/go/p2p/metrics.go)                                                             |
| oasis\_p2p\_connections                                                            | Gauge   | Number of P2P connections.                                                                |                        | [p2p](https://github.com/oasisprotocol/oasis-core/tree/master/go/p2p/metrics.go)                                                             |
| oasis\_p2p\_peers                                                                  | Gauge   | Number of connected P2P peers.                                                            |                        | [p2p](https://github.com/oasisprotocol/oasis-core/tree/master/go/p2p/metrics.go)                                                             |
| oasis\_p2p\_protocols                                                              | Gauge   | Number of supported P2P protocols.                                                        |                        | [p2p](https://github.com/oasisprotocol/oasis-core/tree/master/go/p2p/metrics.go)                                                             |
| oasis\_p2p\_topics                                                                 | Gauge   | Number of supported P2P topics.                                                           |                        | [p2p](https://github.com/oasisprotocol/oasis-core/tree/master/go/p2p/metrics.go)                                                             |
| oasis\_registry\_entities                                                          | Gauge   | Number of registry entities.                                                              |                        | [registry](https://github.com/oasisprotocol/oasis-core/tree/master/go/registry/metrics.go)                                                   |
| oasis\_registry\_nodes                                                             | Gauge   | Number of registry nodes.                                                                 |                        | [registry](https://github.com/oasisprotocol/oasis-core/tree/master/go/registry/metrics.go)                                                   |
| oasis\_registry\_runtimes                                                          | Gauge   | Number of registry runtimes.                                                              |                        | [registry](https://github.com/oasisprotocol/oasis-core/tree/master/go/registry/metrics.go)                                                   |
| oasis\_rhp\_failures                                                               | Counter | Number of failed Runtime Host calls.                                                      | call                   | [runtime/host/protocol](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/protocol/metrics.go)                         |
| oasis\_rhp\_latency                                                                | Summary | Runtime Host call latency (seconds).                                                      | call                   | [runtime/host/protocol](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/protocol/metrics.go)                         |
| oasis\_rhp\_successes                                                              | Counter | Number of successful Runtime Host calls.                                                  | call                   | [runtime/host/protocol](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/protocol/metrics.go)                         |
| oasis\_rhp\_timeouts                                                               | Counter | Number of timed out Runtime Host calls.                                                   |                        | [runtime/host/protocol](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/protocol/metrics.go)                         |
| oasis\_roothash\_block\_interval                                                   | Summary | Time between roothash blocks (seconds).                                                   | runtime                | [roothash](https://github.com/oasisprotocol/oasis-core/tree/master/go/roothash/metrics.go)                                                   |
| oasis\_storage\_failures                                                           | Counter | Number of storage failures.                                                               | call                   | [storage/api](https://github.com/oasisprotocol/oasis-core/tree/master/go/storage/api/metrics.go)                                             |
| oasis\_storage\_latency                                                            | Summary | Storage call latency (seconds).                                                           | call                   | [storage/api](https://github.com/oasisprotocol/oasis-core/tree/master/go/storage/api/metrics.go)                                             |
| oasis\_storage\_successes                                                          | Counter | Number of storage successes.                                                              | call                   | [storage/api](https://github.com/oasisprotocol/oasis-core/tree/master/go/storage/api/metrics.go)                                             |
| oasis\_storage\_value\_size                                                        | Summary | Storage call value size (bytes).                                                          | call                   | [storage/api](https://github.com/oasisprotocol/oasis-core/tree/master/go/storage/api/metrics.go)                                             |
| oasis\_tee\_attestations\_failed                                                   | Counter | Number of failed TEE attestations.                                                        | runtime, kind          | [runtime/host/sgx/common](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/sgx/common/metrics.go)                     |
| oasis\_tee\_attestations\_performed                                                | Counter | Number of TEE attestations performed.                                                     | runtime, kind          | [runtime/host/sgx/common](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/sgx/common/metrics.go)                     |
| oasis\_tee\_attestations\_successful                                               | Counter | Number of successful TEE attestations.                                                    | runtime, kind          | [runtime/host/sgx/common](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/sgx/common/metrics.go)                     |
| oasis\_txpool\_accepted\_transactions                                              | Counter | Number of accepted transactions (passing check tx).                                       | runtime                | [runtime/txpool](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/txpool/metrics.go)                                       |
| oasis\_txpool\_pending\_check\_size                                                | Gauge   | Size of the pending to be checked queue (number of entries).                              | runtime                | [runtime/txpool](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/txpool/metrics.go)                                       |
| oasis\_txpool\_pending\_schedule\_size                                             | Gauge   | Size of the main schedulable queue (number of entries).                                   | runtime                | [runtime/txpool](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/txpool/metrics.go)                                       |
| oasis\_txpool\_rejected\_transactions                                              | Counter | Number of rejected transactions (failing check tx).                                       | runtime                | [runtime/txpool](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/txpool/metrics.go)                                       |
| oasis\_txpool\_rim\_queue\_size                                                    | Gauge   | Size of the roothash incoming message transactions schedulable queue (number of entries). | runtime                | [runtime/txpool](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/txpool/metrics.go)                                       |
| oasis\_up                                                                          | Gauge   | Is oasis-test-runner active for specific scenario.                                        |                        | [oasis-node/cmd/common/metrics](https://github.com/oasisprotocol/oasis-core/tree/master/go/oasis-node/cmd/common/metrics/metrics.go)         |
| oasis\_worker\_aborted\_batch\_count                                               | Counter | Number of aborted batches.                                                                | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_batch\_processing\_time                                             | Summary | Time it takes for a batch to finalize (seconds).                                          | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_batch\_runtime\_processing\_time                                    | Summary | Time it takes for a batch to be processed by the runtime (seconds).                       | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_batch\_size                                                         | Summary | Number of transactions in a batch.                                                        | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_client\_lb\_healthy\_instance\_count                                | Gauge   | Number of healthy instances in the load balancer.                                         | runtime                | [runtime/host/loadbalance](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/loadbalance/metrics.go)                   |
| oasis\_worker\_client\_lb\_requests                                                | Counter | Number of requests processed by the given load balancer instance.                         | runtime, lb\_instance  | [runtime/host/loadbalance](https://github.com/oasisprotocol/oasis-core/tree/master/go/runtime/host/loadbalance/metrics.go)                   |
| oasis\_worker\_committee\_transition\_count                                        | Counter | Number of committee transitions.                                                          | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_epoch\_number                                                       | Gauge   | Current epoch number as seen by the worker.                                               | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_execution\_discrepancy\_detected\_count                             | Counter | Number of detected execute discrepancies.                                                 | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_executor\_committee\_p2p\_peers                                     | Gauge   | Number of executor committee P2P peers.                                                   | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_executor\_is\_backup\_worker                                        | Gauge   | 1 if worker is currently an executor backup worker, 0 otherwise.                          | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_executor\_is\_worker                                                | Gauge   | 1 if worker is currently an executor worker, 0 otherwise.                                 | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_executor\_liveness\_live\_ratio                                     | Gauge   | Ratio between live and total rounds. Reports 1 if node is not in committee.               | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_executor\_liveness\_live\_rounds                                    | Gauge   | Number of live rounds in last epoch.                                                      | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_executor\_liveness\_total\_rounds                                   | Gauge   | Number of total rounds in last epoch.                                                     | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_failed\_round\_count                                                | Counter | Number of failed roothash rounds.                                                         | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_keymanager\_churp\_committee\_size                                  | Gauge   | Number of nodes in the committee                                                          | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_confirmed\_applications\_total                   | Gauge   | Number of confirmed applications                                                          | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_enclave\_rpc\_failures\_total                    | Counter | Number of failed enclave rpc calls.                                                       | runtime, churp, method | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_enclave\_rpc\_latency\_seconds                   | Summary | Latency of enclave rpc calls in seconds.                                                  | runtime, churp, method | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_extra\_shares\_number                            | Gauge   | Minimum number of extra shares.                                                           | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_handoff\_interval                                | Gauge   | Handoff interval in epochs                                                                | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_handoff\_number                                  | Counter | Epoch number of the last handoff                                                          | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_next\_handoff\_number                            | Counter | Epoch number of the next handoff                                                          | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_submitted\_applications\_total                   | Gauge   | Number of submitted applications                                                          | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_churp\_threshold\_number                                | Counter | Degree of the secret-sharing polynomial                                                   | runtime, churp         | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_compute\_runtime\_count                                 | Counter | Number of compute runtimes using the key manager.                                         | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_consensus\_ephemeral\_secret\_epoch\_number             | Gauge   | Epoch number of the latest ephemeral secret.                                              | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_consensus\_master\_secret\_generation\_number           | Gauge   | Generation number of the latest master secret.                                            | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_consensus\_master\_secret\_proposal\_epoch\_number      | Gauge   | Epoch number of the latest master secret proposal.                                        | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_consensus\_master\_secret\_proposal\_generation\_number | Gauge   | Generation number of the latest master secret proposal.                                   | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_consensus\_master\_secret\_rotation\_epoch\_number      | Gauge   | Epoch number of the latest master secret rotation.                                        | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_ephemeral\_secret\_epoch\_number               | Gauge   | Epoch number of the latest ephemeral secret loaded into the enclave.                      | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_generated\_ephemeral\_secret\_epoch\_number    | Gauge   | Epoch number of the latest ephemeral secret generated by the enclave.                     | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_generated\_master\_secret\_epoch\_number       | Gauge   | Epoch number of the latest master secret generated by the enclave.                        | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_generated\_master\_secret\_generation\_number  | Gauge   | Generation number of the latest master secret generated by the enclave.                   | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_master\_secret\_generation\_number             | Gauge   | Generation number of the latest master secret as seen by the enclave.                     | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_master\_secret\_proposal\_epoch\_number        | Gauge   | Epoch number of the latest master secret proposal loaded into the enclave.                | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_master\_secret\_proposal\_generation\_number   | Gauge   | Generation number of the latest master secret proposal loaded into the enclave.           | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_keymanager\_enclave\_rpc\_count                                     | Counter | Number of remote Enclave RPC requests via P2P.                                            | method                 | [worker/keymanager/p2p](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/p2p/metrics.go)                         |
| oasis\_worker\_keymanager\_policy\_update\_count                                   | Counter | Number of key manager policy updates.                                                     | runtime                | [worker/keymanager](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/keymanager/metrics.go)                                 |
| oasis\_worker\_node\_registered                                                    | Gauge   | Is oasis node registered (binary).                                                        |                        | [worker/registration](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/registration/worker.go)                              |
| oasis\_worker\_node\_registration\_eligible                                        | Gauge   | Is oasis node eligible for registration (binary).                                         |                        | [worker/registration](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/registration/worker.go)                              |
| oasis\_worker\_node\_status\_frozen                                                | Gauge   | Is oasis node frozen (binary).                                                            |                        | [worker/registration](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/registration/worker.go)                              |
| oasis\_worker\_node\_status\_runtime\_faults                                       | Gauge   | Number of runtime faults.                                                                 | runtime                | [worker/registration](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/registration/worker.go)                              |
| oasis\_worker\_node\_status\_runtime\_suspended                                    | Gauge   | Runtime node suspension status (binary).                                                  | runtime                | [worker/registration](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/registration/worker.go)                              |
| oasis\_worker\_processed\_block\_count                                             | Counter | Number of processed roothash blocks.                                                      | runtime                | [worker/common/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/common/committee/metrics.go)                     |
| oasis\_worker\_processed\_event\_count                                             | Counter | Number of processed roothash events.                                                      | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_storage\_commit\_latency                                            | Summary | Latency of storage commit calls (state + outputs) (seconds).                              | runtime                | [worker/compute/executor/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/compute/executor/committee/metrics.go) |
| oasis\_worker\_storage\_full\_round                                                | Gauge   | The last round that was fully synced and finalized.                                       | runtime                | [worker/storage/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/storage/committee/metrics.go)                   |
| oasis\_worker\_storage\_pending\_round                                             | Gauge   | The last round that is in-flight for syncing.                                             | runtime                | [worker/storage/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/storage/committee/metrics.go)                   |
| oasis\_worker\_storage\_round\_sync\_latency                                       | Summary | Storage round sync latency (seconds).                                                     | runtime                | [worker/storage/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/storage/committee/metrics.go)                   |
| oasis\_worker\_storage\_synced\_round                                              | Gauge   | The last round that was synced but not yet finalized.                                     | runtime                | [worker/storage/committee](https://github.com/oasisprotocol/oasis-core/tree/master/go/worker/storage/committee/metrics.go)                   |

## Consensus backends

### Metrics Reported by *CometBFT*

When `oasis-node` is configured to use [CometBFT][1] for BFT consensus, all
CometBFT metrics are also reported. Consult
[CometBFT-core documentation][2] for a list of reported by CometBFT.

[1]: https://docs.oasis.io/core/consensus.md#cometbft

[2]: https://docs.cometbft.com/v0.38/core/metrics

---

*To find navigation and other pages in this documentation, fetch the llms.txt file at: https://docs.oasis.io/llms.txt*
