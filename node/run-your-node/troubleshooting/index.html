<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-node/run-your-node/troubleshooting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Troubleshooting | Oasis Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.oasis.io/node/run-your-node/troubleshooting"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting | Oasis Documentation"><meta data-rh="true" name="description" content="Oasis Node Troubleshooting for Node Operators and Hackers"><meta data-rh="true" property="og:description" content="Oasis Node Troubleshooting for Node Operators and Hackers"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.oasis.io/node/run-your-node/troubleshooting"><link data-rh="true" rel="alternate" href="https://docs.oasis.io/node/run-your-node/troubleshooting" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.oasis.io/node/run-your-node/troubleshooting" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.551f8251.css">
<script src="/assets/js/runtime~main.4f6be8e5.js" defer="defer"></script>
<script src="/assets/js/main.9d193f4f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/logo_dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Oasis Docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.svg" alt="Oasis Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/build/">Build</a><a class="navbar__item navbar__link" href="/general/">Learn</a><a class="navbar__item navbar__link" href="/get-involved/">Get Involved</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/node/">Run Node</a><a class="navbar__item navbar__link" href="/core/">Develop Core</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/oasisprotocol" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub repository" aria-label="GitHub repository"></a><a href="https://oasis.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-www-link" title="Oasis website" aria-label="Oasis website"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/node/"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link" href="/node/network/"><span title="Network Information" class="categoryLinkLabel_W154">Network Information</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/network/mainnet"><span title="Mainnet" class="linkLabel_WmDU">Mainnet</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/network/testnet"><span title="Testnet" class="linkLabel_WmDU">Testnet</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--active" href="/node/run-your-node/"><span title="Run Your Node" class="categoryLinkLabel_W154">Run Your Node</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/node/run-your-node/prerequisites"><span title="Prerequisites" class="categoryLinkLabel_W154">Prerequisites</span></a><button aria-label="Expand sidebar category &#x27;Prerequisites&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/validator-node"><span title="Validator Node" class="linkLabel_WmDU">Validator Node</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/non-validator-node"><span title="Non-validator Node" class="linkLabel_WmDU">Non-validator Node</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/seed-node"><span title="Seed Node" class="linkLabel_WmDU">Seed Node</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/archive-node"><span title="Archive Node" class="linkLabel_WmDU">Archive Node</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/paratime-node"><span title="ParaTime Node" class="linkLabel_WmDU">ParaTime Node</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/node/run-your-node/paratime-client-node"><span title="ParaTime Client Node" class="categoryLinkLabel_W154">ParaTime Client Node</span></a><button aria-label="Expand sidebar category &#x27;ParaTime Client Node&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/rofl-node"><span title="ROFL Node" class="linkLabel_WmDU">ROFL Node</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/node/run-your-node/keymanager-node/"><span title="Key Manager Node" class="categoryLinkLabel_W154">Key Manager Node</span></a><button aria-label="Expand sidebar category &#x27;Key Manager Node&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/node/run-your-node/sentry-node"><span title="Sentry Node" class="linkLabel_WmDU">Sentry Node</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/node/run-your-node/maintenance"><span title="Maintenance" class="categoryLinkLabel_W154">Maintenance</span></a><button aria-label="Expand sidebar category &#x27;Maintenance&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/node/run-your-node/advanced"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/node/run-your-node/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/node/web3"><span title="Web3 Gateway" class="linkLabel_WmDU">Web3 Gateway</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/node/grpc"><span title="gRPC Proxy" class="linkLabel_WmDU">gRPC Proxy</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/node/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Troubleshooting</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span><strong>BEFORE YOU BEGIN TROUBLESHOOTING</strong></div><div class="admonitionContent_BuS1"><p>Before you begin troubleshooting your Oasis Node we suggest you check all of the
following:</p><ul>
<li class="">
<p>Check that your current binary version matches the version listed on the Network Parameters page (<a class="" href="/node/network/mainnet">Mainnet</a>, <a class="" href="/node/network/testnet">Testnet</a>)</p>
<ul>
<li class="">Check the version on your localhost using <code>oasis-node --version</code></li>
<li class="">Check the version on your server using <code>oasis-node --version</code></li>
</ul>
</li>
<li class="">
<p>If upgrading, make sure that you&#x27;ve wiped state (unless that is explicitly not required)</p>
</li>
<li class="">
<p>If you&#x27;re doing anything with the entity:</p>
<ul>
<li class="">Do you have the latest genesis?</li>
<li class="">Do you have the correct private key (or Ledger device).</li>
<li class="">If you&#x27;re signing a transaction:<!-- -->
<ul>
<li class="">Check your account balance and nonce using the <a class="" href="/build/tools/cli/account#show"><code>oasis account show</code></a> command.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p>If you&#x27;re generating a transaction:</p>
<ul>
<li class="">Do you have the latest genesis?</li>
</ul>
</li>
<li class="">
<p>If you&#x27;re submitting a transaction:</p>
<ul>
<li class="">Do you have the latest genesis?</li>
<li class="">Is your node synced? If not, the transaction will fail to run properly</li>
</ul>
</li>
</ul></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="starting-a-node">Starting a Node<a href="#starting-a-node" class="hash-link" aria-label="Direct link to Starting a Node" title="Direct link to Starting a Node" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="invalid-permissions">Invalid Permissions<a href="#invalid-permissions" class="hash-link" aria-label="Direct link to Invalid Permissions" title="Direct link to Invalid Permissions" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="permissions-for-node-and-entity">Permissions for node and entity<a href="#permissions-for-node-and-entity" class="hash-link" aria-label="Direct link to Permissions for node and entity" title="Direct link to Permissions for node and entity" translate="no">â€‹</a></h4>
<p>Error Message:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">common/Mkdir: path &#x27;/node/data&#x27; has invalid permissions: -rwxr-xr-x</span><br></span></code></pre></div></div>
<p>The <code>entity</code> and <code>node</code> directories both need to have permissions <code>rwx------</code>. Make sure you initialize the directory with correct permissions or change them using <code>chmod</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--mode</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">700</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--parents</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">entity,node</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">700</span><span class="token plain"> /node/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">700</span><span class="token plain"> /node/etc</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="permissions-for-pem-files">Permissions for .pem files<a href="#permissions-for-pem-files" class="hash-link" aria-label="Direct link to Permissions for .pem files" title="Direct link to Permissions for .pem files" translate="no">â€‹</a></h4>
<p>Error Message example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">signature/signer/file: invalid PEM file permissions 700 on /node/data/identity.pem</span><br></span></code></pre></div></div>
<p>All <code>.pem</code> files should have the permissions <code>600</code>. You can set the permissions for all <code>.pem</code> files in a directory using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-R</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">600</span><span class="token plain"> /path/*.pem</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="node-directory-ownership">Node directory Ownership<a href="#node-directory-ownership" class="hash-link" aria-label="Direct link to Node directory Ownership" title="Direct link to Node directory Ownership" translate="no">â€‹</a></h4>
<p>Another possible cause of permission issues is not giving ownership of your <code>node/</code> to the user running the node (e.g. <code>docker-host</code> or replace with your user):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chown</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-R</span><span class="token plain"> docker-host:docker-host /node</span><br></span></code></pre></div></div>
<p>In general, to avoid problems when running docker, specify the user when running <code>docker</code> commands by adding the flag <code>--user $(id -u):$(id -g)</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cannot-find-file">Cannot Find File<a href="#cannot-find-file" class="hash-link" aria-label="Direct link to Cannot Find File" title="Direct link to Cannot Find File" translate="no">â€‹</a></h3>
<p>Error Message examples:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">no such file or directory</span><br></span></code></pre></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">file does not exist</span><br></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2019-11-17T03:42:09.778647033Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cmd/registry/node&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;caller&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;node.go:127&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;failed to load entity&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;err&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;file does not exist&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>More often than you&#x27;d expect, this error is the result of setting the path incorrectly. You may have left something like <code>--genesis.file $GENESIS_FILE_PATH</code> in the command without setting <code>$GENESIS_FILE_PATH</code> first, or set the path incorrectly. Check that <code>echo $GENESIS_FILE_PATH</code> matches your expectation or provide a path in the command.</p>
<p>Another possible cause: the files in your localhost directory cannot be read from the container. Make sure to run commands in the same session within the container.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="staking-and-registering">Staking and Registering<a href="#staking-and-registering" class="hash-link" aria-label="Direct link to Staking and Registering" title="Direct link to Staking and Registering" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="transaction-out-of-gas">Transaction Out of Gas<a href="#transaction-out-of-gas" class="hash-link" aria-label="Direct link to Transaction Out of Gas" title="Direct link to Transaction Out of Gas" translate="no">â€‹</a></h3>
<p>Error message:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module=cmd/stake caller=stake.go:70 msg=&quot;failed to submit transaction&quot; err=&quot;rpc error: code = Unknown desc = staking: add escrow transaction failed: out of gas&quot; attempt=1</span><br></span></code></pre></div></div>
<p>The docs are now updated to show that you need to add <code>--stake.transaction.fee.gas</code> and <code>--stake.transaction.fee.amount</code> flags when generating your transaction. Note that if you&#x27;re re-generating a transaction, you will need to increment the <code>--nonce</code> flag.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="tee">Trusted Execution Environment (TEE)<a href="#tee" class="hash-link" aria-label="Direct link to Trusted Execution Environment (TEE)" title="Direct link to Trusted Execution Environment (TEE)" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="aesm-could-not-be-contacted">AESM could not be contacted<a href="#aesm-could-not-be-contacted" class="hash-link" aria-label="Direct link to AESM could not be contacted" title="Direct link to AESM could not be contacted" translate="no">â€‹</a></h3>
<p>If running <code>sgx-detect --verbose</code> reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ðŸ•®  SGX system software &gt; AESM service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AESM could not be contacted. AESM is needed for launching enclaves and generating attestations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Please check your AESM installation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: error communicating with aesm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Connection refused (os error 111)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">More information: https://edp.fortanix.com/docs/installation/help/#aesm-service</span><br></span></code></pre></div></div>
<p>Ensure  you have completed all the necessary installation steps outlined in
<a class="" href="/node/run-your-node/prerequisites/set-up-tee#dcap-attestation">DCAP Attestation</a> section.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="aesm-error-30">AESM: error 30<a href="#aesm-error-30" class="hash-link" aria-label="Direct link to AESM: error 30" title="Direct link to AESM: error 30" translate="no">â€‹</a></h3>
<p>If you are encountering the following error message in your node&#x27;s logs:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">failed to initialize TEE: error while getting quote info from AESMD: aesm: error 30</span><br></span></code></pre></div></div>
<p>Ensure you have all required SGX driver libraries installed as listed in
<a class="" href="/node/run-your-node/prerequisites/set-up-tee#dcap-attestation">DCAP Attestation</a> section.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="permission-denied-when-accessing-sgx-kernel-device">Permission Denied When Accessing SGX Kernel Device<a href="#permission-denied-when-accessing-sgx-kernel-device" class="hash-link" aria-label="Direct link to Permission Denied When Accessing SGX Kernel Device" title="Direct link to Permission Denied When Accessing SGX Kernel Device" translate="no">â€‹</a></h3>
<p>If running <code>sgx-detect --verbose</code> reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ðŸ•®  SGX system software &gt; SGX kernel device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Permission denied while opening the SGX device (/dev/sgx/enclave, /dev/sgx or</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/dev/isgx). Make sure you have the necessary permissions to create SGX enclaves.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you are running in a container, make sure the device permissions are</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">correctly set on the container.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: Error opening device: Permission denied (os error 13)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Permission denied (os error 13)</span><br></span></code></pre></div></div>
<p>Ensure you are running the <code>sgx-detect</code> tool as <code>root</code> via:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo $(which sgx-detect) --verbose</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="error-opening-sgx-kernel-device">Error Opening SGX Kernel Device<a href="#error-opening-sgx-kernel-device" class="hash-link" aria-label="Direct link to Error Opening SGX Kernel Device" title="Direct link to Error Opening SGX Kernel Device" translate="no">â€‹</a></h3>
<p>If running <code>sgx-detect --verbose</code> reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ðŸ•®  SGX system software &gt; SGX kernel device</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The SGX device (/dev/sgx/enclave, /dev/sgx or /dev/isgx) could not be opened:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;/dev&quot; mounted with `noexec` option.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: Error opening device: &quot;/dev&quot; mounted with `noexec` option</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: &quot;/dev&quot; mounted with `noexec` option</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ensure-dev-is-not-mounted-with-the-noexec-option">Ensure <code>/dev</code> is NOT Mounted with the <code>noexec</code> Option<a href="#ensure-dev-is-not-mounted-with-the-noexec-option" class="hash-link" aria-label="Direct link to ensure-dev-is-not-mounted-with-the-noexec-option" title="Direct link to ensure-dev-is-not-mounted-with-the-noexec-option" translate="no">â€‹</a></h4>
<p>Some Linux distributions mount <code>/dev</code> with the <code>noexec</code> mount option. If that is
the case, it will prevent the enclave loader from mapping executable pages.</p>
<p>Ensure your <code>/dev</code> (i.e. <code>devtmpfs</code>) is not mounted with the <code>noexec</code> option.
To check that, use:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat /proc/mounts | grep devtmpfs</span><br></span></code></pre></div></div>
<p>To temporarily remove the <code>noexec</code> mount option for <code>/dev</code>, run:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo mount -o remount,exec /dev</span><br></span></code></pre></div></div>
<p>To permanently remove the <code>noexec</code> mount option for <code>/dev</code>, add the following to
the system&#x27;s <code>/etc/fstab</code> file:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">devtmpfs        /dev        devtmpfs    defaults,exec 0 0</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>This is the recommended way to modify mount options for virtual (i.e. API) file
system as described in <a href="https://www.freedesktop.org/wiki/Software/systemd/APIFileSystems/" target="_blank" rel="noopener noreferrer" class="">systemd&#x27;s API File Systems</a>
documentation.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unable-to-launch-enclaves-operation-not-permitted">Unable to Launch Enclaves: Operation not permitted<a href="#unable-to-launch-enclaves-operation-not-permitted" class="hash-link" aria-label="Direct link to Unable to Launch Enclaves: Operation not permitted" title="Direct link to Unable to Launch Enclaves: Operation not permitted" translate="no">â€‹</a></h3>
<p>If running <code>sgx-detect --verbose</code> reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ðŸ•®  SGX system software &gt; Able to launch enclaves &gt; Debug mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The enclave could not be launched.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: failed to load report enclave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: failed to load report enclave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Failed to map enclave into memory.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Operation not permitted (os error 1)</span><br></span></code></pre></div></div>
<p>Ensure your system&#x27;s <a href="#ensure-dev-is-not-mounted-with-the-noexec-option" class=""><code>/dev</code> is NOT mounted with the <code>noexec</code> mount option</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unable-to-launch-enclaves-invalid-argument">Unable to Launch Enclaves: Invalid argument<a href="#unable-to-launch-enclaves-invalid-argument" class="hash-link" aria-label="Direct link to Unable to Launch Enclaves: Invalid argument" title="Direct link to Unable to Launch Enclaves: Invalid argument" translate="no">â€‹</a></h3>
<p>If running <code>sgx-detect --verbose</code> reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ðŸ•®  SGX system software &gt; Able to launch enclaves &gt; Debug mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The enclave could not be launched.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: failed to load report enclave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Failed to call EINIT.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: I/O ctl failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Invalid argument (os error 22)</span><br></span></code></pre></div></div>
<p>This may be related to a bug in the Linux kernel when attempting to run enclaves
on certain hardware configurations. Upgrading the Linux kernel to a version
equal to or greater than 6.5.0 may solve the issue.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unable-to-launch-enclaves-inputoutput-error">Unable to Launch Enclaves: Input/output error<a href="#unable-to-launch-enclaves-inputoutput-error" class="hash-link" aria-label="Direct link to Unable to Launch Enclaves: Input/output error" title="Direct link to Unable to Launch Enclaves: Input/output error" translate="no">â€‹</a></h3>
<p>If running <code>sgx-detect --verbose</code> reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ðŸ•® SGX system software &gt; Able to launch enclaves &gt; Debug mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The enclave could not be launched.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: failed to load report enclave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Failed to call ECREATE.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: I/O ctl failed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug: cause: Input/output error (os error 5)</span><br></span></code></pre></div></div>
<p>This may be related to a bug in the <a href="https://github.com/fortanix/rust-sgx/issues/565" target="_blank" rel="noopener noreferrer" class=""><code>rust-sgx</code></a>
library causing <code>sgx-detect</code> (and <code>attestation-tool</code>) to fail and report that
debug enclaves cannot be launched. This is a known issue and is being worked on.
If the <code>sgx-detect</code> is reporting that production enclaves can be launched, you
can ignore this error when setting up the Oasis node.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="couldnt-find-the-platform-library">Couldn&#x27;t find the platform library<a href="#couldnt-find-the-platform-library" class="hash-link" aria-label="Direct link to Couldn&#x27;t find the platform library" title="Direct link to Couldn&#x27;t find the platform library" translate="no">â€‹</a></h3>
<p>If AESMD service log reports:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[read_persistent_data ../qe_logic.cpp:1084] Couldn&#x27;t find the platform library. (null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[get_platform_quote_cert_data ../qe_logic.cpp:438] Couldn&#x27;t load the platform library. (null)</span><br></span></code></pre></div></div>
<p>It may be that the <a class="" href="/node/run-your-node/prerequisites/set-up-tee#configuring-the-quote-provider">DCAP quote provider</a> is
misconfigured or the configuration file is not a valid JSON file but is
malformed. Double-check that its configuration file (e.g.
<code>/etc/sgx_default_qcnl.conf</code>) is correct.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="qpl-failed-to-get-quote-config-error-code-is-0xb011">[QPL] Failed to get quote config. Error code is 0xb011<a href="#qpl-failed-to-get-quote-config-error-code-is-0xb011" class="hash-link" aria-label="Direct link to [QPL] Failed to get quote config. Error code is 0xb011" title="Direct link to [QPL] Failed to get quote config. Error code is 0xb011" translate="no">â€‹</a></h3>
<p>The following error appears in the QGS daemon logs leaving ROFL runtime
inoperable:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">qgsd[1412990]: [QPL] Failed to get quote config. Error code is 0xb011</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qgsd[1412990]: [get_platform_quote_cert_data ../td_ql_logic.cpp:302] Error returned from the p_sgx_get_quote_config API. 0xe044</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">qgsd[1412990]: tee_att_get_quote_size return 0x11001</span><br></span></code></pre></div></div>
<p>This is a known bug, which hasn&#x27;t been fixed yet at time of writing this section
<a href="https://github.com/intel/SGXDataCenterAttestationPrimitives/issues/450" target="_blank" rel="noopener noreferrer" class="">https://github.com/intel/SGXDataCenterAttestationPrimitives/issues/450</a>.</p>
<p>The current workaround is to restart the QGS daemon, for example
<code>sudo service qgsd restart</code>.</p>
<p>If you are managing your QGS daemon with Docker compose, you can configure it as
follows:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">docker-compose.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/opt/intel/tdx-qgs/qgs&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--no-daemon&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/bin/bash&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;exec \&quot;$0\&quot; \&quot;$@\&quot; &amp;&gt; &gt;(tee -a /tmp/qgsd.log)&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">init</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CMD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/bin/bash&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;grep &#x27;Error code is 0xb011&#x27; /tmp/qgsd.log &amp;&amp; (: &gt; /tmp/qgsd.log &amp;&amp; kill -SIGTERM 1 &amp;&amp; exit -1) || (: &gt; /tmp/qgsd.log &amp;&amp; exit 0)&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 60s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">retries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="qpl-no-certificate-data-for-this-platform">[QPL] No certificate data for this platform.<a href="#qpl-no-certificate-data-for-this-platform" class="hash-link" aria-label="Direct link to [QPL] No certificate data for this platform." title="Direct link to [QPL] No certificate data for this platform." translate="no">â€‹</a></h3>
<p>The following error is reported on a multi-CPU systems if the user forgot to
install and configure MPA:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">May 09 13:24:16 oasis-node-1 qgsd[6732]: call tee_att_init_quote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 09 13:24:16 oasis-node-1 qgsd[6732]: [QPL] No certificate data for this platform.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 09 13:24:16 oasis-node-1 qgsd[6732]: [get_platform_quote_cert_data ../td_ql_logic.cpp:302] Error returned from the p_sgx_get_quote_config API. 0xe011</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 09 13:24:16 oasis-node-1 qgsd[6732]: tee_att_init_quote return 0x11001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">May 09 13:24:16 oasis-node-1 qgsd[6732]: tee_att_get_quote_size return 0x1100f</span><br></span></code></pre></div></div>
<p>Correctly configure your TEE by following the <a class="" href="/node/run-your-node/prerequisites/set-up-tee#multi-socket-systems">Set up TEE - Multi-socket
system</a> section.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="rofl">ROFL<a href="#rofl" class="hash-link" aria-label="Direct link to ROFL" title="Direct link to ROFL" translate="no">â€‹</a></h2>
<p>The following errors appear in the ROFL node logs.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unknown-enclave">Unknown enclave<a href="#unknown-enclave" class="hash-link" aria-label="Direct link to Unknown enclave" title="Direct link to Unknown enclave" translate="no">â€‹</a></h3>
<p>This error is reported when the enclave ID of the ROFL provided in the .orc file
mismatches the currently registered enclave ID of the on-chain ROFL app.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;component&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;rofl.rofl1qrtetspnld9efpeasxmryl6nw9mgllr0euls3dwn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;err&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;call failed: module=rofl code=5: unknown enclave&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;runtime/modules/rofl/app/registration&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;failed to refresh registration&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;provisioner&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;tdx-qemu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2025-02-21T08:10:10.012956311Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Update the on-chain enclave ID by running <code>oasis rofl update</code> on the machine
where ROFL is being compiled and deployed.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="root-not-found">Root not found<a href="#root-not-found" class="hash-link" aria-label="Direct link to Root not found" title="Direct link to Root not found" translate="no">â€‹</a></h3>
<p>This error is reported, when the node hasn&#x27;t been fully synced yet. This
includes both the consensus and the ParaTime blocks.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;component&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;rofl.rofl1qrtetspnld9efpeasxmryl6nw9mgllr0euls3dwn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;err&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;call failed: root not found&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;runtime/modules/rofl/app/registration&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;failed to refresh registration&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;provisioner&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;tdx-qemu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2025-04-17T05:40:24.305875715Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Wait for the node to sync.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="failed-to-resize-persistent-overlay-image">Failed to resize persistent overlay image<a href="#failed-to-resize-persistent-overlay-image" class="hash-link" aria-label="Direct link to Failed to resize persistent overlay image" title="Direct link to Failed to resize persistent overlay image" translate="no">â€‹</a></h3>
<p>The following error is reported on the ROFL node, if there was an error during
the persistent storage resize operation. Most commonly this happens during ROFL
upgrade if <a class="" href="/build/rofl/features/manifest#resources-storage">persistent storage size</a> was decreased below the
actually occupied storage.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;caller&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;host.go:486&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;err&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;failed to configure process: failed to resize persistent overlay image: qemu-img: Use the --shrink option to perform a shrink operation.\nqemu-img: warning: Shrinking an image will delete all data beyond the shrunken image&#x27;s end. Before performing such an operation, make sure there is no important data there.\n\nexit status 1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;error&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;runtime/host/tdx/qemu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;failed to start runtime&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2025-04-17T09:56:36.321911319Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Similarly, if the persistent storage is corrupted in any way, a message like
this may appear in the logs:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;component&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;rofl.rofl1qrtetspnld9efpeasxmryl6nw9mgllr0euls3dwn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;info&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;runtime/global&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Error: writing blob: adding layer with blob \&quot;sha256:9f202d637e1bbe0e48c7855d7872fa4ab33af88b61ef10d4cb6dd7caba0e2c8a\&quot;/\&quot;\&quot;/\&quot;sha256:b240b4f256e7bd304b5a1335b4bc73b47ce21aaf31bb1107452a89a101f50054\&quot;: readlink /storage/containers/graph/overlay/l: invalid argument&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;provisioner&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;tdx-qemu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2025-02-25T13:44:47.05176383Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>ROFL admin user should run <code>oasis rofl machine restart --wipe-storage</code> to clear
persistent storage and recreate the volume of the ROFL app.</p>
<p>Alternatively, you can remove the persistent storage folder manually located at
<code>/node/data/runtimes/volumes/&lt;rofl_app_volume_id&gt;</code> and restart the ROFL app.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Both options will permanently delete persistent storage of this ROFL app on the
ROFL node.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="offer-not-acceptable-for-this-instance">Offer not acceptable for this instance<a href="#offer-not-acceptable-for-this-instance" class="hash-link" aria-label="Direct link to Offer not acceptable for this instance" title="Direct link to Offer not acceptable for this instance" translate="no">â€‹</a></h3>
<p>The following error occurs, if your ROFL node Scheduler configuration is not
configured to accept the offer names of the selected provider.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;component&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;rofl.rofl1qrqw99h0f7az3hwt2cl7yeew3wtz0fxunu7luyfg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;0000000000000005&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;info&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;runtime/scheduler/manager&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;offer not acceptable for this instance&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;offer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;0000000000000002&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;provisioner&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;tdx-qemu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2025-04-25T09:25:57.726444176Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Update your node&#x27;s <code>runtime.runtimes.sapphire_id.components.scheduler_id.config.rofl_scheduler.offers</code>
in your <code>config.yml</code> and include the valid offer name.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="image-platform-linuxarm64v8-does-not-match-the-expected-platform-linuxamd64">Image platform (linux/arm64/v8) does not match the expected platform (linux/amd64)<a href="#image-platform-linuxarm64v8-does-not-match-the-expected-platform-linuxamd64" class="hash-link" aria-label="Direct link to Image platform (linux/arm64/v8) does not match the expected platform (linux/amd64)" title="Direct link to Image platform (linux/arm64/v8) does not match the expected platform (linux/amd64)" translate="no">â€‹</a></h3>
<p>This error occurs, if the Docker container to be executed inside the ROFL TDX
was not compiled for the <code>linux/amd64</code> platform.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;component&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;rofl.rofl1qpdzzm4h73gtes04xjn4whan84s3k33l5gx787l2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;info&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;module&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;runtime/global&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;msg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WARNING: image platform (linux/arm64/v8) does not match the expected platform (linux/amd64)&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;provisioner&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;tdx-qemu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;000000000000000000000000000000000000000000000000f80306c9858e7279&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;runtime_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2025-04-28T06:16:24.20330395Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Always compile your Docker container for ROFL with the <code>--platform linux/amd64</code>
parameter or put the <code>platform: linux/amd64</code> line inside your <code>compose.yaml</code>.
Then recompile and push the container to the OCI repository.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/oasisprotocol/docs/edit/main/docs/node/run-your-node/troubleshooting.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-01-27T11:48:58.000Z" itemprop="dateModified">Jan 27, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/node/run-your-node/advanced/remote-signer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Remote Signer for Oasis Node Keys</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/node/web3"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Web3 Gateway</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#starting-a-node" class="table-of-contents__link toc-highlight">Starting a Node</a><ul><li><a href="#invalid-permissions" class="table-of-contents__link toc-highlight">Invalid Permissions</a></li><li><a href="#cannot-find-file" class="table-of-contents__link toc-highlight">Cannot Find File</a></li></ul></li><li><a href="#staking-and-registering" class="table-of-contents__link toc-highlight">Staking and Registering</a><ul><li><a href="#transaction-out-of-gas" class="table-of-contents__link toc-highlight">Transaction Out of Gas</a></li></ul></li><li><a href="#tee" class="table-of-contents__link toc-highlight">Trusted Execution Environment (TEE)</a><ul><li><a href="#aesm-could-not-be-contacted" class="table-of-contents__link toc-highlight">AESM could not be contacted</a></li><li><a href="#aesm-error-30" class="table-of-contents__link toc-highlight">AESM: error 30</a></li><li><a href="#permission-denied-when-accessing-sgx-kernel-device" class="table-of-contents__link toc-highlight">Permission Denied When Accessing SGX Kernel Device</a></li><li><a href="#error-opening-sgx-kernel-device" class="table-of-contents__link toc-highlight">Error Opening SGX Kernel Device</a></li><li><a href="#unable-to-launch-enclaves-operation-not-permitted" class="table-of-contents__link toc-highlight">Unable to Launch Enclaves: Operation not permitted</a></li><li><a href="#unable-to-launch-enclaves-invalid-argument" class="table-of-contents__link toc-highlight">Unable to Launch Enclaves: Invalid argument</a></li><li><a href="#unable-to-launch-enclaves-inputoutput-error" class="table-of-contents__link toc-highlight">Unable to Launch Enclaves: Input/output error</a></li><li><a href="#couldnt-find-the-platform-library" class="table-of-contents__link toc-highlight">Couldn&#39;t find the platform library</a></li><li><a href="#qpl-failed-to-get-quote-config-error-code-is-0xb011" class="table-of-contents__link toc-highlight">[QPL] Failed to get quote config. Error code is 0xb011</a></li><li><a href="#qpl-no-certificate-data-for-this-platform" class="table-of-contents__link toc-highlight">[QPL] No certificate data for this platform.</a></li></ul></li><li><a href="#rofl" class="table-of-contents__link toc-highlight">ROFL</a><ul><li><a href="#unknown-enclave" class="table-of-contents__link toc-highlight">Unknown enclave</a></li><li><a href="#root-not-found" class="table-of-contents__link toc-highlight">Root not found</a></li><li><a href="#failed-to-resize-persistent-overlay-image" class="table-of-contents__link toc-highlight">Failed to resize persistent overlay image</a></li><li><a href="#offer-not-acceptable-for-this-instance" class="table-of-contents__link toc-highlight">Offer not acceptable for this instance</a></li><li><a href="#image-platform-linuxarm64v8-does-not-match-the-expected-platform-linuxamd64" class="table-of-contents__link toc-highlight">Image platform (linux/arm64/v8) does not match the expected platform (linux/amd64)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://explorer.oasis.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Explorer</a></li><li class="footer__item"><a href="https://wallet.oasis.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wallet</a></li><li class="footer__item"><a href="https://github.com/oasisprotocol/cli" target="_blank" rel="noopener noreferrer" class="footer__link-item">CLI</a></li><li class="footer__item"><a href="https://status.oasis.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Build</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://faucet.testnet.oasis.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet Faucet</a></li><li class="footer__item"><a href="https://playground.oasis.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground</a></li><li class="footer__item"><a href="https://api.docs.oasis.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Node</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/node/network/mainnet">Mainnet</a></li><li class="footer__item"><a class="footer__link-item" href="/node/network/testnet">Testnet</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://oasis.io/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://t.me/oasisprotocolcommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC35UFPcZ2F1wjPxhPrSsESQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/oasisprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
<p xmlns:cc="http://creativecommons.org/ns#">Copyright Â© 2026
by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://oasis.net">
Oasis Protocol Foundation</a>. We <a href="https://oasisprotocol.org/privacy-policy" target="_blank" rel="noopener noreferrer">respect your privacy</a>.
Unless otherwise specified, all text and images on this website are licensed
under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="/img/cc.svg"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="/img/by.svg"></a>.
This does not include the Oasis software and the code examples, both of which are
licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
Apache 2.0</a>. Built with &#x2665; and Docusaurus.</p></div></div></div></footer><!--$--><!--/$--></div>
</body>
</html>